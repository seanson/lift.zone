!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e){var t=e("domready"),n=e("views/main"),r=e("router"),i=e("models/activities"),o=e("andlog");window.app={init:function(){var e=this;this.activities=new i,this.router=new r,this.logger=o,t(function(){e.view=new n({el:document.body}),e.router.history.start({pushState:!0})})}},window.app.init()},{andlog:48,domready:50,"models/activities":54,router:64,"views/main":71}],2:[function(e,t){function n(e,t){if(t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),t.parent&&(this.parent=t.parent),!this.mainIndex){var n=this.model&&this.model.prototype&&this.model.prototype.idAttribute;this.mainIndex=n||"id"}this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a({silent:!0},t))}var r=e("backbone-events-standalone"),i=e("ampersand-class-extend"),o=e("is-array"),a=e("extend-object"),s=[].slice;a(n.prototype,r,{initialize:function(){},indexes:[],isModel:function(e){return this.model&&e instanceof this.model},add:function(e,t){return this.set(e,a({merge:!1,add:!0,remove:!1},t))},parse:function(e){return e},serialize:function(){return this.map(function(e){if(e.serialize)return e.serialize();var t={};return a(t,e),delete t.collection,t})},toJSON:function(){return this.serialize()},set:function(e,t){t=a({add:!0,remove:!0,merge:!0},t),t.parse&&(e=this.parse(e,t));var n=!o(e);e=n?e?[e]:[]:e.slice();var r,i,s,u,l,c,h,d=t.at,p=this.comparator&&null==d&&t.sort!==!1,f="string"==typeof this.comparator?this.comparator:null,m=[],v=[],g={},w=t.add,y=t.merge,b=t.remove,_=!p&&w&&b?[]:!1,x=this.model&&this.model.prototype||Object.prototype;for(c=0,h=e.length;h>c;c++){if(s=e[c]||{},r=this.isModel(s)?i=s:x.generateId?x.generateId(s):s[x.idAttribute||this.mainIndex],u=this.get(r))b&&(g[u.cid||u[this.mainIndex]]=!0),y&&(s=s===i?i.attributes:s,t.parse&&(s=u.parse(s,t)),u.set?(u.set(s,t),p&&!l&&u.hasChanged(f)&&(l=!0)):a(u,s)),e[c]=u;else if(w){if(i=e[c]=this._prepareModel(s,t),!i)continue;m.push(i),this._addReference(i,t)}i=u||i,i&&(_&&(i.isNew&&i.isNew()||!i[this.mainIndex]||!g[i.cid||i[this.mainIndex]])&&_.push(i),g[i[this.mainIndex]]=!0)}if(b){for(c=0,h=this.length;h>c;c++)i=this.models[c],g[i.cid||i[this.mainIndex]]||v.push(i);v.length&&this.remove(v,t)}if(m.length||_&&_.length)if(p&&(l=!0),null!=d)for(c=0,h=m.length;h>c;c++)this.models.splice(d+c,0,m[c]);else{var k=_||m;for(c=0,h=k.length;h>c;c++)this.models.push(k[c])}if(l&&this.sort({silent:!0}),!t.silent){for(c=0,h=m.length;h>c;c++)i=m[c],i.trigger?i.trigger("add",i,this,t):this.trigger("add",i,this,t);(l||_&&_.length)&&this.trigger("sort",this,t)}return n?e[0]:e},get:function(e,t){if(e){var n=this._indexes[t||this.mainIndex];return n[e]||n[e[this.mainIndex]]||this._indexes.cid[e]||this._indexes.cid[e.cid]}},at:function(e){return this.models[e]},remove:function(e,t){var n,r,i,a,u=!o(e);for(e=u?[e]:s.call(e),t||(t={}),n=0,r=e.length;r>n;n++)i=e[n]=this.get(e[n]),i&&(this._deIndex(i),a=this.models.indexOf(i),this.models.splice(a,1),t.silent||(t.index=a,i.trigger?i.trigger("remove",i,this,t):this.trigger("remove",i,this,t)),this._removeReference(i,t));return u?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,a({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},sort:function(e){var t=this;if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),this.models.sort("string"==typeof this.comparator?function(e,n){return e.get?(e=e.get(t.comparator),n=n.get(t.comparator)):(e=e[t.comparator],n=n[t.comparator]),e>n||void 0===e?1:n>e||void 0===n?-1:0}:1===this.comparator.length?function(e,n){return e=t.comparator(e),n=t.comparator(n),e>n||void 0===e?1:n>e||void 0===n?-1:0}:this.comparator.bind(this)),e.silent||this.trigger("sort",this,e),this},_reset:function(){var e=this.indexes||[],t=0;e.push(this.mainIndex),e.push("cid");var n=e.length;for(this.models=[],this._indexes={};n>t;t++)this._indexes[e[t]]={}},_prepareModel:function(e,t){if(!this.model)return e;if(this.isModel(e))return e.collection||(e.collection=this),e;t=t?a({},t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_deIndex:function(e){for(var t in this._indexes)delete this._indexes[t][e[t]||e.get&&e.get(t)]},_index:function(e){for(var t in this._indexes){var n=e[t]||e.get&&e.get(t);n&&(this._indexes[t][n]=e)}},_addReference:function(e){this._index(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+this.mainIndex&&(this._deIndex(t),this._index(t)),this.trigger.apply(this,arguments))}}),Object.defineProperties(n.prototype,{length:{get:function(){return this.models.length}},isCollection:{value:!0}});var u=["indexOf","lastIndexOf","every","some","forEach","map","filter","reduce","reduceRight"];u.forEach(function(e){n.prototype[e]=function(){return this.models[e].apply(this.models,arguments)}}),n.prototype.each=n.prototype.forEach,n.extend=i,t.exports=n},{"ampersand-class-extend":3,"backbone-events-standalone":5,"extend-object":6,"is-array":7}],3:[function(e,t){var n=e("extend-object"),r=function(e){var t,r=this,i=[].slice.call(arguments);t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return r.apply(this,arguments)},n(t,r);var o=function(){this.constructor=t};return o.prototype=r.prototype,t.prototype=new o,e&&(i.unshift(t.prototype),n.apply(null,i)),t.__super__=r.prototype,t};t.exports=r},{"extend-object":6}],4:[function(e,t,n){!function(){function e(){return{keys:Object.keys,uniqueId:function(e){var t=++l+"";return e?e+t:t},has:function(e,t){return s.call(e,t)},each:function(e,t,n){if(null!=e)if(a&&e.forEach===a)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e)===o)return}else for(var s in e)if(this.has(e,s)&&t.call(n,e[s],s,e)===o)return},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}var r,i=this,o={},a=Array.prototype.forEach,s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l=0,c=e();r={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var r=this,i=c.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,o,a,s,u,l,h;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:c.keys(this._events),s=0,u=a.length;u>s;s++)if(e=a[s],o=this._events[e]){if(this._events[e]=r=[],t||n)for(l=0,h=o.length;h>l;l++)i=o[l],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&p(n,t),r&&p(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e);for(var o in r)r[o].off(t,n,this),i&&delete this._listeners[o];return this}};var h=/\s+/,d=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(h.test(n)){for(var o=n.split(h),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},p=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},f={listenTo:"on",listenToOnce:"once"};c.each(f,function(e,t){r[t]=function(t,n,r){var i=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=c.uniqueId("l"));return i[o]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),r.bind=r.on,r.unbind=r.off,r.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return c.each(t,function(t){e[t]=this[t]},this),e},"function"==typeof define?define(function(){return r}):"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=r),n.BackboneEvents=r):i.BackboneEvents=r}(this)},{}],5:[function(e,t){t.exports=e("./backbone-events-standalone")},{"./backbone-events-standalone":4}],6:[function(e,t){var n=[],r=n.forEach,i=n.slice;t.exports=function(e){return r.call(i.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}},{}],7:[function(e,t){var n=Array.isArray,r=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},{}],8:[function(e,t){function n(e){return e||0===e?e:""}function r(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function i(e,t){var n=e[t];return t in e&&(n===!0||n===!1)}function o(e){return"true"===l.getAttribute(e,"data-anddom-hidden")}function a(e){l.setAttribute(e,"data-anddom-display",e.style.display)}function s(e){e.style.display=l.getAttribute(e,"data-anddom-display")||"",l.removeAttribute(e,"data-anddom-hidden")}function u(e){l.setAttribute(e,"data-anddom-hidden","true"),e.style.display="none"}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-dom"]=window.ampersand["ampersand-dom"]||[],window.ampersand["ampersand-dom"].push("1.2.7"));var l=t.exports={text:function(e,t){e.textContent=n(t)},addClass:function(e,t){t=n(t),t&&(Array.isArray(t)?t.forEach(function(t){l.addClass(e,t)}):e.classList?e.classList.add(t):r(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t))},removeClass:function(e,t){Array.isArray(t)?t.forEach(function(t){l.removeClass(e,t)}):e.classList?(t=n(t),t&&e.classList.remove(t)):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},hasClass:r,switchClass:function(e,t,n){t&&this.removeClass(e,t),this.addClass(e,n)},addAttribute:function(e,t){e.setAttribute(t,""),i(e,t)&&(e[t]=!0)},removeAttribute:function(e,t){e.removeAttribute(t),i(e,t)&&(e[t]=!1)},setAttribute:function(e,t,r){e.setAttribute(t,n(r))},getAttribute:function(e,t){return e.getAttribute(t)},hide:function(e){o(e)||(a(e),u(e))},show:function(e){s(e)},html:function(e,t){e.innerHTML=t}}},{}],9:[function(e,t){var n=e("underscore"),r=e("ampersand-view");t.exports=r.extend({template:"<div></div>",initialize:function(e){this.itemView=e.itemView,this.itemViewOptions=e.itemViewOptions||{},this.groupView=e.groupView,this.groupViewOptions=e.groupViewOptions||{},this.groupsWith=e.groupsWith,this.prepareGroup=e.prepareGroup,this.template=e.template||this.template,this.collection=e.collection,this.itemViews=[],this.groupViews=[],this.listenTo(this.collection,"add",this.addViewForModel),this.listenTo(this.collection,"sort",this.renderAll),this.listenTo(this.collection,"remove",this.renderAll),this.listenTo(this.collection,"refresh reset",this.renderAll),this.currentGroup=null,this.currentGroupView=null,this.lastModel=null},remove:function(){this.removeAllViews(),r.prototype.remove.call(this)},removeAllViews:function(){n.invoke(this.itemViews,"remove"),n.invoke(this.groupViews,"remove"),this.itemViews=[],this.groupViews=[]},render:function(){return this.renderWithTemplate(),this.renderAll(),this},addViewForModel:function(e){if(this.rendered&&e!==this.lastModel){if(!this.currentGroup||!this.lastModel||!this.groupsWith(e,this.lastModel,this.currentGroup)){var t=this.prepareGroup(e,this.currentGroup),r=new this.groupView(n({model:t}).extend(this.groupViewOptions));r.render(),this.el.appendChild(r.el),this.currentGroup=t,this.currentGroupView=r,this.groupViews.push(r)}var i=new this.itemView(n({containerEl:this.currentGroupView.containerEl,model:e}).extend(this.itemViewOptions));i.render(),this.itemViews.push(i);var o=this.currentGroupView.groupEl||this.currentGroupView.el;o.appendChild(i.el),this.lastModel=e}},renderAll:function(){var e=this;this.lastModel=null,this.currentGroup=null,this.currentGroupView=null,this.removeAllViews(),this.collection.each(function(t){e.addViewForModel(t)})}})},{"ampersand-view":31,underscore:10}],10:[function(e,t,n){(function(){var e=this,r=e._,i=Array.prototype,o=Object.prototype,a=Function.prototype,s=i.push,u=i.slice,l=i.concat,c=o.toString,h=o.hasOwnProperty,d=Array.isArray,p=Object.keys,f=a.bind,m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=m),n._=m):e._=m,m.VERSION="1.7.0";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}};m.iteratee=function(e,t,n){return null==e?m.identity:m.isFunction(e)?v(e,t,n):m.isObject(e)?m.matches(e):m.property(e)},m.each=m.forEach=function(e,t,n){if(null==e)return e;t=v(t,n);var r,i=e.length;if(i===+i)for(r=0;i>r;r++)t(e[r],r,e);else{var o=m.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},m.map=m.collect=function(e,t,n){if(null==e)return[];t=m.iteratee(t,n);for(var r,i=e.length!==+e.length&&m.keys(e),o=(i||e).length,a=Array(o),s=0;o>s;s++)r=i?i[s]:s,a[s]=t(e[r],r,e);return a};var g="Reduce of empty array with no initial value";m.reduce=m.foldl=m.inject=function(e,t,n,r){null==e&&(e=[]),t=v(t,r,4);var i,o=e.length!==+e.length&&m.keys(e),a=(o||e).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(g);n=e[o?o[s++]:s++]}for(;a>s;s++)i=o?o[s]:s,n=t(n,e[i],i,e);return n},m.reduceRight=m.foldr=function(e,t,n,r){null==e&&(e=[]),t=v(t,r,4);var i,o=e.length!==+e.length&&m.keys(e),a=(o||e).length;if(arguments.length<3){if(!a)throw new TypeError(g);n=e[o?o[--a]:--a]}for(;a--;)i=o?o[a]:a,n=t(n,e[i],i,e);return n},m.find=m.detect=function(e,t,n){var r;return t=m.iteratee(t,n),m.some(e,function(e,n,i){return t(e,n,i)?(r=e,!0):void 0}),r},m.filter=m.select=function(e,t,n){var r=[];return null==e?r:(t=m.iteratee(t,n),m.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r)},m.reject=function(e,t,n){return m.filter(e,m.negate(m.iteratee(t)),n)},m.every=m.all=function(e,t,n){if(null==e)return!0;t=m.iteratee(t,n);var r,i,o=e.length!==+e.length&&m.keys(e),a=(o||e).length;for(r=0;a>r;r++)if(i=o?o[r]:r,!t(e[i],i,e))return!1;return!0},m.some=m.any=function(e,t,n){if(null==e)return!1;t=m.iteratee(t,n);var r,i,o=e.length!==+e.length&&m.keys(e),a=(o||e).length;for(r=0;a>r;r++)if(i=o?o[r]:r,t(e[i],i,e))return!0;return!1},m.contains=m.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=m.values(e)),m.indexOf(e,t)>=0)},m.invoke=function(e,t){var n=u.call(arguments,2),r=m.isFunction(t);return m.map(e,function(e){return(r?t:e[t]).apply(e,n)})},m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matches(t))},m.findWhere=function(e,t){return m.find(e,m.matches(t))},m.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:m.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>o&&(o=r)}else t=m.iteratee(t,n),m.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},m.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:m.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],o>r&&(o=r)}else t=m.iteratee(t,n),m.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},m.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:m.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=m.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},m.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=m.values(e)),e[m.random(e.length-1)]):m.shuffle(e).slice(0,Math.max(0,t))},m.sortBy=function(e,t,n){return t=m.iteratee(t,n),m.pluck(m.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var w=function(e){return function(t,n,r){var i={};return n=m.iteratee(n,r),m.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};m.groupBy=w(function(e,t,n){m.has(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=w(function(e,t,n){e[n]=t}),m.countBy=w(function(e,t,n){m.has(e,n)?e[n]++:e[n]=1}),m.sortedIndex=function(e,t,n,r){n=m.iteratee(n,r,1);for(var i=n(t),o=0,a=e.length;a>o;){var s=o+a>>>1;n(e[s])<i?o=s+1:a=s}return o},m.toArray=function(e){return e?m.isArray(e)?u.call(e):e.length===+e.length?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:e.length===+e.length?e.length:m.keys(e).length},m.partition=function(e,t,n){t=m.iteratee(t,n);var r=[],i=[];return m.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},m.first=m.head=m.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:u.call(e,0,t)},m.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},m.rest=m.tail=m.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,m.identity)};var y=function(e,t,n,r){if(t&&m.every(e,m.isArray))return l.apply(r,e);for(var i=0,o=e.length;o>i;i++){var a=e[i];m.isArray(a)||m.isArguments(a)?t?s.apply(r,a):y(a,t,n,r):n||r.push(a)}return r};m.flatten=function(e,t){return y(e,t,!1,[])},m.without=function(e){return m.difference(e,u.call(arguments,1))},m.uniq=m.unique=function(e,t,n,r){if(null==e)return[];m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=m.iteratee(n,r));for(var i=[],o=[],a=0,s=e.length;s>a;a++){var u=e[a];if(t)a&&o===u||i.push(u),o=u;else if(n){var l=n(u,a,e);m.indexOf(o,l)<0&&(o.push(l),i.push(u))}else m.indexOf(i,u)<0&&i.push(u)}return i},m.union=function(){return m.uniq(y(arguments,!0,!0,[]))},m.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,r=0,i=e.length;i>r;r++){var o=e[r];if(!m.contains(t,o)){for(var a=1;n>a&&m.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},m.difference=function(e){var t=y(u.call(arguments,1),!0,!0,[]);return m.filter(e,function(e){return!m.contains(t,e)})},m.zip=function(e){if(null==e)return[];for(var t=m.max(arguments,"length").length,n=Array(t),r=0;t>r;r++)n[r]=m.pluck(arguments,r);return n},m.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},m.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=m.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}for(;i>r;r++)if(e[r]===t)return r;return-1},m.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=e.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(e[r]===t)return r;return-1},m.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var b=function(){};m.bind=function(e,t){var n,r;if(f&&e.bind===f)return f.apply(e,u.call(arguments,1));if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));b.prototype=e.prototype;var i=new b;b.prototype=null;var o=e.apply(i,n.concat(u.call(arguments)));return m.isObject(o)?o:i}},m.partial=function(e){var t=u.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,o=r.length;o>i;i++)r[i]===m&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},m.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=m.bind(e[n],e);return e},m.memoize=function(e,t){var n=function(r){var i=n.cache,o=t?t.apply(this,arguments):r;return m.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},m.defer=function(e){return m.delay.apply(m,[e,1].concat(u.call(arguments,1)))},m.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:m.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=m.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,0>=c||c>t?(clearTimeout(a),a=null,s=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},m.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var l=m.now()-a;t>l&&l>0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=m.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s}},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},m.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},m.once=m.partial(m.before,2),m.keys=function(e){if(!m.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)m.has(e,n)&&t.push(n);return t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()},m.extend=function(e){if(!m.isObject(e))return e;for(var t,n,r=1,i=arguments.length;i>r;r++){t=arguments[r];for(n in t)h.call(t,n)&&(e[n]=t[n])}return e},m.pick=function(e,t,n){var r,i={};if(null==e)return i;if(m.isFunction(t)){t=v(t,n);for(r in e){var o=e[r];t(o,r,e)&&(i[r]=o)}}else{var a=l.apply([],u.call(arguments,1));e=new Object(e);for(var s=0,c=a.length;c>s;s++)r=a[s],r in e&&(i[r]=e[r])}return i},m.omit=function(e,t,n){if(m.isFunction(t))t=m.negate(t);else{var r=m.map(l.apply([],u.call(arguments,1)),String);t=function(e,t){return!m.contains(r,t)}}return m.pick(e,t,n)},m.defaults=function(e){if(!m.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];for(var i in r)void 0===e[i]&&(e[i]=r[i])}return e},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e};var _=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]===e)return r[o]===t;var a=e.constructor,s=t.constructor;if(a!==s&&"constructor"in e&&"constructor"in t&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var u,l;if("[object Array]"===i){if(u=e.length,l=u===t.length)for(;u--&&(l=_(e[u],t[u],n,r)););}else{var h,d=m.keys(e);if(u=d.length,l=m.keys(t).length===u)for(;u--&&(h=d[u],l=m.has(t,h)&&_(e[h],t[h],n,r)););}return n.pop(),r.pop(),l};m.isEqual=function(e,t){return _(e,t,[],[])},m.isEmpty=function(e){if(null==e)return!0;if(m.isArray(e)||m.isString(e)||m.isArguments(e))return 0===e.length;for(var t in e)if(m.has(e,t))return!1;return!0},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=d||function(e){return"[object Array]"===c.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){m["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")}),"function"!=typeof/./&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&e!==+e},m.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===c.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){return null!=e&&h.call(e,t)},m.noConflict=function(){return e._=r,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return function(t){return t[e]}},m.matches=function(e){var t=m.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var r=0;n>r;r++){var i=t[r],o=i[0];if(i[1]!==e[o]||!(o in e))return!1}return!0}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=m.invert(x),E=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=E(x),m.unescape=E(k),m.result=function(e,t){if(null==e)return void 0;var n=e[t];return m.isFunction(n)?e[t]():n};var C=0;m.uniqueId=function(e){var t=++C+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,j=function(e){return"\\"+S[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r=RegExp([(t.escape||A).source,(t.interpolate||A).source,(t.evaluate||A).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(O,j),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,m)},l=t.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},m.chain=function(e){var t=m(e);return t._chain=!0,t};var T=function(e){return this._chain?m(e).chain():e};m.mixin=function(e){m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),T.call(this,n.apply(m,e))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],T.call(this,n)}}),m.each(["concat","join","slice"],function(e){var t=i[e];m.prototype[e]=function(){return T.call(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this)},{}],11:[function(e,t){var n=e("backbone-events-standalone"),r=e("amp-extend"),i=e("amp-bind"),o=function(){this.handlers=[],this.checkUrl=i(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},a=/^[#\/]|\s+$/g,s=/^\/+|\/+$/g,u=/#.*$/;o.started=!1,r(o.prototype,n,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.location.search},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=decodeURI(this.location.pathname+this.location.search),t=this.root.slice(0,-1);return e.indexOf(t)||(e=e.slice(t.length)),e.slice(1)},getFragment:function(e){return null==e&&(e=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(a,"")},start:function(e){if(o.started)throw new Error("Backbone.history has already been started");o.started=!0,this.options=r({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment();var t=window.addEventListener;if(this.root=("/"+this.root+"/").replace(s,"/"),this._hasPushState?t("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange?t("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.location.replace(this.root+"#"+this.getPath()),!0;this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}return this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener;this._hasPushState?e("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&e("hashchange",this.checkUrl,!1),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),o.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment?!1:void this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),this.handlers.some(function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!o.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=decodeURI(e.replace(u,"")),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace)}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.exports=new o},{"amp-bind":13,"amp-extend":15,"backbone-events-standalone":23}],12:[function(e,t){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-router"]=window.ampersand["ampersand-router"]||[],window.ampersand["ampersand-router"].push("1.0.7"));var n=e("ampersand-class-extend"),r=e("backbone-events-standalone"),i=e("./ampersand-history"),o=e("amp-extend"),a=e("amp-is-regexp"),s=e("amp-is-function"),u=e("amp-result"),l=t.exports=function(e){e||(e={}),this.history=e.history||i,e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)
},c=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,d=/\*\w+/g,p=/[\-{}\[\]+?.,\\\^$|#\s]/g;o(l.prototype,r,{initialize:function(){},route:function(e,t,n){a(e)||(e=this._routeToRegExp(e)),s(t)&&(n=t,t=""),n||(n=this[t]);var r=this;return this.history.route(e,function(i){var o=r._extractParameters(e,i);r.execute(n,o,t)!==!1&&(r.trigger.apply(r,["route:"+t].concat(o)),r.trigger("route",t,o),r.history.trigger("route",r,t,o))}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,t){return this.history.navigate(e,t),this},redirectTo:function(e){this.navigate(e,{replace:!0,trigger:!0})},_bindRoutes:function(){if(this.routes){this.routes=u(this,"routes");for(var e,t=Object.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(p,"\\$&").replace(c,"(?:$1)?").replace(h,function(e,t){return t?e:"([^/?]+)"}).replace(d,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return n.map(function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}}),l.extend=n},{"./ampersand-history":11,"amp-extend":15,"amp-is-function":17,"amp-is-regexp":18,"amp-result":19,"ampersand-class-extend":20,"backbone-events-standalone":23}],13:[function(e,t){var n=e("amp-is-function"),r=e("amp-is-object"),i=Function.prototype.bind,o=Array.prototype.slice,a=function(){};t.exports=function(e,t){var s,u;if(i&&e.bind===i)return i.apply(e,o.call(arguments,1));if(!n(e))throw new TypeError("Bind must be called on a function");return s=o.call(arguments,2),u=function(){if(!(this instanceof u))return e.apply(t,s.concat(o.call(arguments)));a.prototype=e.prototype;var n=new a;a.prototype=null;var i=e.apply(n,s.concat(o.call(arguments)));return r(i)?i:n}}},{"amp-is-function":17,"amp-is-object":14}],14:[function(e,t){t.exports=function(e){var t=typeof e;return!!e&&("function"===t||"object"===t)}},{}],15:[function(e,t){var n=e("amp-is-object");t.exports=function(e){if(!n(e))return e;for(var t,r,i=1,o=arguments.length;o>i;i++){t=arguments[i];for(r in t)e[r]=t[r]}return e}},{"amp-is-object":16}],16:[function(e,t){t.exports=e(14)},{}],17:[function(e,t){var n=Object.prototype.toString,r=function(e){return"[object Function]"===n.call(e)};"function"!=typeof/./&&(r=function(e){return"function"==typeof e||!1}),t.exports=r},{}],18:[function(e,t){var n=Object.prototype.toString;t.exports=function(e){return"[object RegExp]"===n.call(e)}},{}],19:[function(e,t){var n=e("amp-is-function");t.exports=function(e,t,r){var i=null==e?void 0:e[t];return void 0===i?n(r)?r():r:n(i)?e[t]():i}},{"amp-is-function":17}],20:[function(e,t){t.exports=e(3)},{"extend-object":21}],21:[function(e,t){t.exports=e(6)},{}],22:[function(e,t){t.exports=e(4)},{}],23:[function(e,t){t.exports=e(5)},{"./backbone-events-standalone":22}],24:[function(e,t){function n(e,t){t||(t={}),this.cid||(this.cid=a.uniqueId("state")),this._events={},this._values={},this._definition=Object.create(this._definition),t.parse&&(e=this.parse(e,t)),this.parent=t.parent,this.collection=t.collection,this._keyTree=new u,this._initCollections(),this._initChildren(),this._cache={},this._previousAttributes={},e&&this.set(e,a.extend({silent:!0,initial:!0},t)),this._changed={},this._derived&&this._initDerived(),t.init!==!1&&this.initialize.apply(this,arguments)}function r(e,t,n,r){var i,o,s=e._definition[t]={};if(a.isString(n))i=e._ensureValidType(n),i&&(s.type=i);else{if(a.isArray(n)&&(o=n,n={type:o[0],required:o[1],"default":o[2]}),i=e._ensureValidType(n.type),i&&(s.type=i),n.required&&(s.required=!0),n["default"]&&"object"==typeof n["default"])throw new TypeError("The default value for "+t+" cannot be an object/array, must be a value or a function which returns a value/object/array");s["default"]=n["default"],s.allowNull=n.allowNull?n.allowNull:!1,n.setOnce&&(s.setOnce=!0),s.required&&a.isUndefined(s["default"])&&!s.setOnce&&(s["default"]=e._getDefaultForType(i)),s.test=n.test,s.values=n.values}return r&&(s.session=!0),Object.defineProperty(e,t,{set:function(e){this.set(t,e)},get:function(){var e=this._values[t],n=this._dataTypes[s.type];return"undefined"!=typeof e?(n&&n.get&&(e=n.get(e)),e):(e=a.result(s,"default"),this._values[t]=e,e)}}),s}function i(e,t,n){var r=e._derived[t]={fn:a.isFunction(n)?n:n.fn,cache:n.cache!==!1,depList:n.deps||[]};a.each(r.depList,function(n){e._deps[n]=a(e._deps[n]||[]).union([t])}),Object.defineProperty(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError('"'+t+"\" is a derived property, it can't be set directly.")}})}function o(e){var t,n=this,o=[].slice.call(arguments);t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},a.extend(t,n);var s=function(){this.constructor=t};s.prototype=n.prototype,t.prototype=new s,t.prototype._derived=a.extend({},n.prototype._derived),t.prototype._deps=a.extend({},n.prototype._deps),t.prototype._definition=a.extend({},n.prototype._definition),t.prototype._collections=a.extend({},n.prototype._collections),t.prototype._children=a.extend({},n.prototype._children),t.prototype._dataTypes=a.extend({},n.prototype._dataTypes||h),e&&o.forEach(function(e){var n=["dataTypes","props","session","derived","collections","children"];e.dataTypes&&a.each(e.dataTypes,function(e,n){t.prototype._dataTypes[n]=e}),e.props&&a.each(e.props,function(e,n){r(t.prototype,n,e)}),e.session&&a.each(e.session,function(e,n){r(t.prototype,n,e,!0)}),e.derived&&a.each(e.derived,function(e,n){i(t.prototype,n,e)}),e.collections&&a.each(e.collections,function(e,n){t.prototype._collections[n]=e}),e.children&&a.each(e.children,function(e,n){t.prototype._children[n]=e}),a.extend(t.prototype,a.omit(e,n))});Object.prototype.toString;return t.__super__=n.prototype,t}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-state"]=window.ampersand["ampersand-state"]||[],window.ampersand["ampersand-state"].push("4.4.4"));var a=e("underscore"),s=e("backbone-events-standalone"),u=e("key-tree-store"),l=e("array-next"),c=/^change:/;a.extend(n.prototype,s,{extraProperties:"ignore",idAttribute:"id",namespaceAttribute:"namespace",typeAttribute:"modelType",initialize:function(){return this},getId:function(){return this[this.idAttribute]},getNamespace:function(){return this[this.namespaceAttribute]},getType:function(){return this[this.typeAttribute]},isNew:function(){return null==this.getId()},escape:function(e){return a.escape(this.get(e))},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},parse:function(e){return e},serialize:function(){var e=this.getAttributes({props:!0},!0);return a.each(this._children,function(t,n){e[n]=this[n].serialize()},this),a.each(this._collections,function(t,n){e[n]=this[n].serialize()},this),e},set:function(e,t,n){var r,i,o,s,u,l,c,h,d,p,f,m,v,g,w,y,b=this,_=this.extraProperties;if(a.isObject(e)||null===e?(d=e,n=t):(d={},d[e]=t),n=n||{},!this._validate(d,n))return!1;m=n.unset,f=n.silent,g=n.initial,i=[],r=this._changing,this._changing=!0,r||(this._previousAttributes=this.attributes,this._changed={});for(h in d){if(s=d[h],o=typeof s,v=this._values[h],u=this._definition[h],!u){if(this._children[h]||this._collections[h]){this[h].set(s,n);continue}if("ignore"===_)continue;if("reject"===_)throw new TypeError('No "'+h+'" property defined on '+(this.type||"this")+' model and extraProperties not set to "ignore" or "allow"');if("allow"===_)u=this._createPropertyDefinition(h,"any");else if(_)throw new TypeError('Invalid value for extraProperties: "'+_+'"')}if(y=this._getCompareForType(u.type),p=this._dataTypes[u.type],p&&p.set&&(l=p.set(s),s=l.val,o=l.type),u.test&&(c=u.test.call(this,s,o)))throw new TypeError("Property '"+h+"' failed validation with error: "+c);if(a.isUndefined(s)&&u.required)throw new TypeError("Required property '"+h+"' must be of type "+u.type+". Tried to set "+s);if(a.isNull(s)&&u.required&&!u.allowNull)throw new TypeError("Property '"+h+"' must be of type "+u.type+" (cannot be null). Tried to set "+s);if(u.type&&"any"!==u.type&&u.type!==o&&!a.isNull(s)&&!a.isUndefined(s))throw new TypeError("Property '"+h+"' must be of type "+u.type+". Tried to set "+s);if(u.values&&!a.contains(u.values,s))throw new TypeError("Property '"+h+"' must be one of values: "+u.values.join(", ")+". Tried to set "+s);if(w=!y(v,s,h),u.setOnce&&void 0!==v&&w&&!g)throw new TypeError("Property '"+h+"' can only be set once.");w?(i.push({prev:v,val:s,key:h}),b._changed[h]=s):delete b._changed[h]}if(a.each(i,function(e){b._previousAttributes[e.key]=e.prev,m?delete b._values[e.key]:b._values[e.key]=e.val}),!f&&i.length&&(b._pending=!0),f||a.each(i,function(e){b.trigger("change:"+e.key,b,e.val,n)}),r)return this;if(!f)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},get:function(e){return this[e]},toggle:function(e){var t=this._definition[e];if("boolean"===t.type)this[e]=!this[e];else{if(!t||!t.values)throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");this[e]=l(t.values,this[e])}return this},previousAttributes:function(){return a.clone(this._previousAttributes)},hasChanged:function(e){return null==e?!a.isEmpty(this._changed):a.has(this._changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this._changed):!1;var t,n,r,i=!1,o=this._changing?this._previousAttributes:this.attributes;for(var s in e)n=this._definition[s],n&&(r=this._getCompareForType(n.type),r(o[s],t=e[s])||((i||(i={}))[s]=t));return i},toJSON:function(){return this.serialize()},unset:function(e,t){{var n,r=this._definition[e];r.type}return r.required?(n=a.result(r,"default"),this.set(e,n,t)):this.set(e,n,a.extend({},t,{unset:!0}))},clear:function(e){var t=this;return a.each(a.keys(this.attributes),function(n){t.unset(n,e)}),this},previous:function(e){return null!=e&&Object.keys(this._previousAttributes).length?this._previousAttributes[e]:null},_getDefaultForType:function(e){var t=this._dataTypes[e];return t&&t["default"]},_getCompareForType:function(e){var t=this._dataTypes[e];return t&&t.compare?a.bind(t.compare,this):a.isEqual},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,a.extend(t||{},{validationError:n})),!1):!0},_createPropertyDefinition:function(e,t,n){return r(this,e,t,n)},_ensureValidType:function(e){return a.contains(["string","number","boolean","array","object","date","any"].concat(a.keys(this._dataTypes)),e)?e:void 0},getAttributes:function(e,t){e||(e={}),a.defaults(e,{session:!1,props:!1,derived:!1});var n,r,i,o={};for(r in this._definition)i=this._definition[r],(e.session&&i.session||e.props&&!i.session)&&(n=t?this._values[r]:this[r],"undefined"==typeof n&&(n=a.result(i,"default")),"undefined"!=typeof n&&(o[r]=n));if(e.derived)for(r in this._derived)o[r]=this[r];return o},_initDerived:function(){var e=this;a.each(this._derived,function(t,n){var r=e._derived[n];r.deps=r.depList;var i=function(t){t=t||{};var i=r.fn.call(e);e._cache[n]===i&&r.cache||(r.cache&&(e._previousAttributes[n]=e._cache[n]),e._cache[n]=i,e.trigger("change:"+n,e,e._cache[n]))};r.deps.forEach(function(t){e._keyTree.add(t,i)})}),this.on("all",function(t){c.test(t)&&e._keyTree.get(t.split(":")[1]).forEach(function(e){e()})},this)},_getDerivedProperty:function(e,t){return this._derived[e].cache?((t||!this._cache.hasOwnProperty(e))&&(this._cache[e]=this._derived[e].fn.apply(this)),this._cache[e]):this._derived[e].fn.apply(this)},_initCollections:function(){var e;if(this._collections)for(e in this._collections)this[e]=new this._collections[e](null,{parent:this})},_initChildren:function(){var e;if(this._children)for(e in this._children)this[e]=new this._children[e]({},{parent:this}),this.listenTo(this[e],"all",this._getEventBubblingHandler(e))},_getEventBubblingHandler:function(e){return a.bind(function(t,n,r){c.test(t)?this.trigger("change:"+e+"."+t.split(":")[1],n,r):"change"===t&&this.trigger("change",this)},this)},_verifyRequired:function(){var e=this.attributes;for(var t in this._definition)if(this._definition[t].required&&"undefined"==typeof e[t])return!1;return!0}}),Object.defineProperties(n.prototype,{attributes:{get:function(){return this.getAttributes({props:!0,session:!0})}},all:{get:function(){return this.getAttributes({session:!0,props:!0,derived:!0})}},isState:{get:function(){return!0},set:function(){}}});var h={string:{"default":function(){return""}},date:{set:function(e){var t;if(a.isDate(e))t="date",e=e.valueOf();else try{var n=new Date(e).valueOf();if(isNaN(n)&&(n=new Date(parseInt(e,10)).valueOf(),isNaN(n)))throw TypeError;e=n,t="date"}catch(r){t=typeof e}return{val:e,type:t}},get:function(e){return new Date(e)},"default":function(){return new Date}},array:{set:function(e){return{val:e,type:a.isArray(e)?"array":typeof e}},"default":function(){return[]}},object:{set:function(e){var t=typeof e;return"object"!==t&&a.isUndefined(e)&&(e=null,t="object"),{val:e,type:t}},"default":function(){return{}}},state:{set:function(e){var t=e instanceof n||e&&e.isState;return t?{val:e,type:"state"}:{val:e,type:typeof e}},compare:function(e,t,n){var r=e===t;return r||(e&&this.stopListening(e),null!=t&&this.listenTo(t,"all",this._getEventBubblingHandler(n))),r}}};n.extend=o,t.exports=n},{"array-next":25,"backbone-events-standalone":27,"key-tree-store":28,underscore:29}],25:[function(e,t){t.exports=function(e,t){var n=e.length,r=e.indexOf(t)+1;return r>n-1&&(r=0),e[r]}},{}],26:[function(e,t){t.exports=e(4)},{}],27:[function(e,t){t.exports=e(5)},{"./backbone-events-standalone":26}],28:[function(e,t){function n(){this.storage={}}n.prototype.add=function(e,t){var n=this.storage[e]||(this.storage[e]=[]);n.push(t)},n.prototype.remove=function(e){var t,n;for(t in this.storage)n=this.storage[t],n.some(function(t,r){return t===e?(n.splice(r,1),!0):void 0})},n.prototype.get=function(e){var t,n=[];for(t in this.storage)(e===t||0===t.indexOf(e+"."))&&(n=n.concat(this.storage[t]));return n},t.exports=n},{}],29:[function(e,t){t.exports=e(10)},{}],30:[function(e,t){function n(e,t){t||(t={}),this.el=e,this.config={hide:null,show:null,empty:null,waitForRemove:!1};for(var n in t)this.config.hasOwnProperty(n)&&(this.config[n]=t[n]);t.view?this.set(t.view):this._onViewRemove()}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-view-switcher"]=window.ampersand["ampersand-view-switcher"]||[],window.ampersand["ampersand-view-switcher"].push("1.1.2")),n.prototype.set=function(e){var t=this,n=this.previous=this.current,r=this._setCurrent(e);this.config.waitForRemove?this._hide(n,function(){n===t.previous&&r===t.current&&t._show(r)}):(this._hide(n),this._show(r))},n.prototype._setCurrent=function(e){this.current=e,e&&this._registerRemoveListener(e);var t=this.config.empty;return t&&!this.current&&t(),e},n.prototype.clear=function(e){this._hide(this.current,e)},n.prototype.remove=function(){this.current&&this.current.remove()},n.prototype._show=function(e,t){var n=this.config.show;n?3===n.length?(this._render(e),n(e,t)):(this._render(e),n(e),t&&t()):(this._render(e),t&&t())},n.prototype._registerRemoveListener=function(e){e&&e.once("remove",this._onViewRemove,this)},n.prototype._onViewRemove=function(e){var t=this.config.empty;this.current===e&&(this.current=null),t&&!this.current&&t()},n.prototype._render=function(e){e.rendered||e.render({containerEl:this.el}),e.insertSelf||this.el.appendChild(e.el)},n.prototype._hide=function(e,t){if(!e)return t&&t();var n=this.config.hide;n?3===n.length?n(e,this.current,function(){e.remove(),t&&t()}):(n(e,this.current),e.remove(),t&&t()):(e.remove(),t&&t())},t.exports=n},{}],31:[function(e,t){function n(e){this.cid=a.uniqueId("view"),e||(e={});var t=e.parent;delete e.parent,h.call(this,e,{init:!1,parent:t}),this.on("change:el",this._handleElementChange,this),this._parsedBindings=l(this.bindings,this),this._initializeBindings(),e.el&&!this.autoRender&&this._handleElementChange(),this._initializeSubviews(),this.template=e.template||this.template,this.initialize.apply(this,arguments),this.set(a.pick(e,d)),this.autoRender&&this.template&&this.render()}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-view"]=window.ampersand["ampersand-view"]||[],window.ampersand["ampersand-view"].push("7.2.0"));var r=e("ampersand-state"),i=e("ampersand-collection-view"),o=e("domify"),a=e("underscore"),s=e("events-mixin"),u=e("matches-selector"),l=e("ampersand-dom-bindings"),c=e("get-object-path"),h=r.extend({dataTypes:{element:{set:function(e){return{val:e,type:e instanceof Element?"element":typeof e}},compare:function(e,t){return e===t}},collection:{set:function(e){return{val:e,type:e&&e.isCollection?"collection":typeof e}},compare:function(e,t){return e===t}}},props:{model:"state",el:"element",collection:"collection"},derived:{rendered:{deps:["el"],fn:function(){return!!this.el}},hasData:{deps:["model"],fn:function(){return!!this.model}}}}),d=["model","collection","el"];n.prototype=Object.create(h.prototype),a.extend(n.prototype,{query:function(e){return e?"string"==typeof e?u(this.el,e)?this.el:this.el.querySelector(e)||void 0:e:this.el},queryAll:function(e){var t=[];return this.el?""===e?[this.el]:(u(this.el,e)&&t.push(this.el),t.concat(Array.prototype.slice.call(this.el.querySelectorAll(e)))):t},queryByHook:function(e){return this.query('[data-hook~="'+e+'"]')},initialize:function(){},render:function(){return this.renderWithTemplate(this),this},remove:function(){var e=this._parsedBindings;return this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this._subviews&&a.chain(this._subviews).flatten().invoke("remove"),this.stopListening(),a.each(e,function(t,n){a.each(t,function(t,r){delete e[n][r]}),delete e[n]}),this.trigger("remove",this),this},_handleElementChange:function(){return this.eventManager&&this.eventManager.unbind(),this.eventManager=s(this.el,this),this.delegateEvents(),this._applyBindingsForKey(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var t in e)this.eventManager.bind(t,e[t]);return this},undelegateEvents:function(){return this.eventManager.unbind(),this},registerSubview:function(e){return this._subviews||(this._subviews=[]),this._subviews.push(e),e.el&&(e.parent=this),e},renderSubview:function(e,t){return"string"==typeof t&&(t=this.query(t)),this.registerSubview(e),e.render(),(t||this.el).appendChild(e.el),e},_applyBindingsForKey:function(e){if(this.el){var t,n=this._parsedBindings.getGrouped(e);for(t in n)n[t].forEach(function(e){e(this.el,c(this,t),a.last(t.split(".")))},this)}},_initializeBindings:function(){this.bindings&&this.on("all",function(e){"change:"===e.slice(0,7)&&this._applyBindingsForKey(e.split(":")[1])},this)},_initializeSubviews:function(){if(this.subviews)for(var e in this.subviews)this._parseSubview(this.subviews[e],e)},_parseSubview:function(e,t){function n(){var e,r;this.el&&(e=this.query(i.selector))&&(!i.waitFor||c(this,i.waitFor))&&(r=this[t]=i.prepareView.call(this,e),r.render(),this.registerSubview(r),this.off("change",n))}var r=this,i={selector:e.container||'[data-hook="'+e.hook+'"]',waitFor:e.waitFor||"",prepareView:e.prepareView||function(t){return new e.constructor({el:t,parent:r})}};this.on("change",n,this)},renderWithTemplate:function(e,t){var n=t||this.template;if(!n)throw new Error("Template string or function needed.");var r=a.isString(n)?n:n.call(this,e||this);a.isString(r)&&(r=o(r));var i=this.el&&this.el.parentNode;if(i&&i.replaceChild(r,this.el),"#document-fragment"===r.nodeName)throw new Error("Views can only have one root element.");return this.el=r,this},cacheElements:function(e){for(var t in e)this[t]=this.query(e[t])},listenToAndRun:function(e,t,n){var r=a.bind(n,this);this.listenTo(e,t,r),r()},animateRemove:function(){this.remove()},renderCollection:function(e,t,n,r){var o="string"==typeof n?this.query(n):n,s=a.extend({collection:e,el:o||this.el,view:t,parent:this,viewOptions:{parent:this}},r),u=new i(s);return u.render(),this.registerSubview(u)}}),n.extend=h.extend,t.exports=n},{"ampersand-collection-view":32,"ampersand-dom-bindings":37,"ampersand-state":24,domify:39,"events-mixin":40,"get-object-path":45,"matches-selector":46,underscore:47}],32:[function(e,t){function n(e){if(!e)throw new ReferenceError("Collection view missing required parameters: collection, el");if(!e.collection)throw new ReferenceError("Collection view requires a collection");if(!e.el&&!this.insertSelf)throw new ReferenceError("Collection view requires an el");r.extend(this,r.pick(e,a)),this.views=[],this.listenTo(this.collection,"add",this._addViewForModel),this.listenTo(this.collection,"remove",this._removeViewForModel),this.listenTo(this.collection,"sort",this._rerenderAll),this.listenTo(this.collection,"refresh reset",this._reset)}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-collection-view"]=window.ampersand["ampersand-collection-view"]||[],window.ampersand["ampersand-collection-view"].push("1.2.1"));var r=e("underscore"),i=e("backbone-events-standalone"),o=e("ampersand-class-extend"),a=["collection","el","viewOptions","view","emptyView","filter","reverse","parent"];r.extend(n.prototype,i,{render:function(){return this._renderAll(),this},remove:function(){r.invoke(this.views,"remove"),this.stopListening()},_getViewByModel:function(e){return r.find(this.views,function(t){return e===t.model})},_createViewForModel:function(e,t){var n=new this.view(r({model:e,collection:this.collection}).extend(this.viewOptions));return this.views.push(n),n.parent=this,n.renderedByParentView=!0,n.render(t),n},_getOrCreateByModel:function(e,t){return this._getViewByModel(e)||this._createViewForModel(e,t)},_addViewForModel:function(e,t,n){var r=this.filter?this.filter(e):!0;if(r){this.renderedEmptyView&&(this.renderedEmptyView.remove(),delete this.renderedEmptyView);var i=this._getOrCreateByModel(e,{containerEl:this.el});n&&n.rerender?this._insertView(i):this._insertViewAtIndex(i)}},_insertViewAtIndex:function(e){if(!e.insertSelf){var t,n,r=this.collection.indexOf(e.model);t=this.collection.at(this.reverse?r-1:r+1),n=this._getViewByModel(t),n?this.el.insertBefore(e.el,n&&n.el):this.el.appendChild(e.el)}},_insertView:function(e){e.insertSelf||(this.reverse&&this.el.firstChild?this.el.insertBefore(e.el,this.el.firstChild):this.el.appendChild(e.el))},_removeViewForModel:function(e){var t=this._getViewByModel(e);if(t){var n=this.views.indexOf(t);-1!==n&&(t=this.views.splice(n,1)[0],this._removeView(t),0===this.views.length&&this._renderEmptyView())}},_removeView:function(e){e.animateRemove?e.animateRemove():e.remove()},_renderAll:function(){this.collection.each(this._addViewForModel,this),0===this.views.length&&this._renderEmptyView()},_rerenderAll:function(e,t){t=t||{},this.collection.each(function(e){this._addViewForModel(e,this,r.extend(t,{rerender:!0}))},this)},_renderEmptyView:function(){if(this.emptyView&&!this.renderedEmptyView){var e=this.renderedEmptyView=new this.emptyView;this.el.appendChild(e.render().el)}},_reset:function(){var e=this.collection.map(this._getOrCreateByModel,this),t=r.difference(this.views,e);t.forEach(this._removeView,this),this.views=e,this._rerenderAll(),0===this.views.length&&this._renderEmptyView()}}),n.extend=o,t.exports=n},{"ampersand-class-extend":33,"backbone-events-standalone":36,underscore:47}],33:[function(e,t){t.exports=e(3)},{"extend-object":34}],34:[function(e,t){t.exports=e(6)},{}],35:[function(e,t,n){!function(){function e(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++l+"";return e?e+t:t},has:function(e,t){return s.call(e,t)},each:function(e,t,n){if(null!=e)if(a&&e.forEach===a)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e)===o)return}else for(var s in e)if(this.has(e,s)&&t.call(n,e[s],s,e)===o)return},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}var r,i=this,o={},a=Array.prototype.forEach,s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l=0,c=e();r={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var r=this,i=c.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,o,a,s,u,l,h;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:c.keys(this._events),s=0,u=a.length;u>s;s++)if(e=a[s],o=this._events[e]){if(this._events[e]=r=[],t||n)for(l=0,h=o.length;h>l;l++)i=o[l],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&p(n,t),r&&p(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e);for(var o in r)r[o].off(t,n,this),i&&delete this._listeners[o];return this}};var h=/\s+/,d=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(h.test(n)){for(var o=n.split(h),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},p=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},f={listenTo:"on",listenToOnce:"once"};c.each(f,function(e,t){r[t]=function(t,n,r){var i=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=c.uniqueId("l"));return i[o]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),r.bind=r.on,r.unbind=r.off,r.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return c.each(t,function(t){e[t]=this[t]},this),e},"function"==typeof define?define(function(){return r}):"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=r),n.BackboneEvents=r):i.BackboneEvents=r}(this)},{}],36:[function(e,t,n){arguments[4][5][0].apply(n,arguments)},{"./backbone-events-standalone":35}],37:[function(e,t){function n(e,t){if(""===t)return[e];var n=[];return s(e,t)&&n.push(e),n.concat(u.call(e.querySelectorAll(t)))}function r(e){return Array.isArray(e)?e:[e]}function i(e,t){var i,o=e.type||"text",s="function"==typeof o,u=function(){return"string"==typeof e.selector?e.selector:e.hook?'[data-hook~="'+e.hook+'"]':""}(),l=e.yes,c=e.no,h=!(!l&&!c);if(s)return function(e,r){n(e,u).forEach(function(e){o.call(t,e,r,i)}),i=r};if("text"===o)return function(e,t){n(e,u).forEach(function(e){a.text(e,t)})};if("class"===o)return function(e,t){n(e,u).forEach(function(e){a.switchClass(e,i,t)}),i=t};if("attribute"===o){if(!e.name)throw Error('attribute bindings must have a "name"');return function(t,o){var s=r(e.name);n(t,u).forEach(function(e){s.forEach(function(t){a.setAttribute(e,t,o)})}),i=o}}if("value"===o)return function(e,t){n(e,u).forEach(function(e){t||0===t||(t=""),document.activeElement!==e&&(e.value=t)}),i=t};if("booleanClass"===o)return h?(l=r(l||""),c=r(c||""),function(e,t){var r=t?c:l,i=t?l:c;n(e,u).forEach(function(e){r.forEach(function(t){a.removeClass(e,t)}),i.forEach(function(t){a.addClass(e,t)})})}):function(t,i,o){var s=r(e.name||o);n(t,u).forEach(function(e){s.forEach(function(t){a[i?"addClass":"removeClass"](e,t)})})};if("booleanAttribute"===o)return function(t,i,o){var s=r(e.name||o);n(t,u).forEach(function(e){s.forEach(function(t){a[i?"addAttribute":"removeAttribute"](e,t)})})};if("toggle"===o)return h?function(e,t){n(e,l).forEach(function(e){a[t?"show":"hide"](e)}),n(e,c).forEach(function(e){a[t?"hide":"show"](e)})}:function(e,t){n(e,u).forEach(function(e){a[t?"show":"hide"](e)})};if("switch"===o){if(!e.cases)throw Error('switch bindings must have "cases"');return function(t,r){for(var i in e.cases)n(t,e.cases[i]).forEach(function(e){a[r===i?"show":"hide"](e)})}}if("innerHTML"===o)return function(e,t){n(e,u).forEach(function(e){a.html(e,t)})};if("switchClass"===o){if(!e.cases)throw Error('switchClass bindings must have "cases"');return function(t,i,o){var s=r(e.name||o);for(var u in e.cases)n(t,e.cases[u]).forEach(function(e){s.forEach(function(t){a[i===u?"addClass":"removeClass"](e,t)})})}}throw new Error("no such binding type: "+o)}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-dom-bindings"]=window.ampersand["ampersand-dom-bindings"]||[],window.ampersand["ampersand-dom-bindings"].push("3.3.3"));var o=e("key-tree-store"),a=e("ampersand-dom"),s=e("matches-selector");t.exports=function(e,t){var n,r,a=new o;for(n in e)r=e[n],"string"==typeof r?a.add(n,i({type:"text",selector:r})):r.forEach?r.forEach(function(e){a.add(n,i(e,t))}):a.add(n,i(r,t));return a};var u=Array.prototype.slice},{"ampersand-dom":8,"key-tree-store":38,"matches-selector":46}],38:[function(e,t){function n(){this.storage={}}var r=Array.prototype.slice;n.prototype.add=function(e,t){var n=this.storage[e]||(this.storage[e]=[]);n.push(t)},n.prototype.remove=function(e){var t,n;for(t in this.storage)n=this.storage[t],n.some(function(t,r){return t===e?(n.splice(r,1),!0):void 0})},n.prototype.get=function(e){var t,n=[];for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+".")||(n=n.concat(this.storage[t]));return n},n.prototype.getGrouped=function(e){var t,n={};for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+".")||(n[t]=r.call(this.storage[t]));return n},n.prototype.getAll=function(e){var t,n={};for(t in this.storage)(e===t||0===t.indexOf(e+"."))&&(n[t]=r.call(this.storage[t]));return n},n.prototype.run=function(e,t){var n=r.call(arguments,2);this.get(e).forEach(function(e){e.apply(t||this,n)})},t.exports=n},{}],39:[function(e,t){function n(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var i=t.createElement("html");return i.innerHTML=e,i.removeChild(i.lastChild)}var a=o[r]||o._default,s=a[0],u=a[1],l=a[2],i=t.createElement("div");for(i.innerHTML=u+e+l;s--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);for(var c=t.createDocumentFragment();i.firstChild;)c.appendChild(i.removeChild(i.firstChild));return c}t.exports=n;var r=document.createElement("div");r.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var i=!r.getElementsByTagName("link").length;r=void 0;var o={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};o.td=o.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],o.option=o.optgroup=[1,'<select multiple="multiple">',"</select>"],o.thead=o.tbody=o.colgroup=o.caption=o.tfoot=[1,"<table>","</table>"],o.text=o.circle=o.ellipse=o.line=o.path=o.polygon=o.polyline=o.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],40:[function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);if(!e)throw new Error("element required");if(!t)throw new Error("object required");
this.el=e,this.obj=t,this._events={}}function r(e){var t=e.split(/ +/);return{name:t.shift(),selector:t.join(" ")}}var i=e("component-event"),o=e("delegate-events"),a=["focus","blur"];t.exports=n,n.prototype.sub=function(e,t,n){this._events[e]=this._events[e]||{},this._events[e][t]=n},n.prototype.bind=function(e,t){function n(){var e=[].slice.call(arguments).concat(c);u[t].apply(u,e)}var a=r(e),s=this.el,u=this.obj,l=a.name,t=t||"on"+l,c=[].slice.call(arguments,2);return a.selector?n=o.bind(s,a.selector,l,n):i.bind(s,l,n),this.sub(l,t,n),n},n.prototype.unbind=function(e,t){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(e);var n=this._events[e],r=-1!==a.indexOf(e);if(n){var o=n[t];o&&i.unbind(this.el,e,o,r)}},n.prototype.unbindAll=function(){for(var e in this._events)this.unbindAllOf(e)},n.prototype.unbindAllOf=function(e){var t=this._events[e];if(t)for(var n in t)this.unbind(e,n)}},{"component-event":41,"delegate-events":42}],41:[function(e,t,n){var r=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==r?"on":"";n.bind=function(e,t,n,i){return e[r](o+t,n,i||!1),n},n.unbind=function(e,t,n,r){return e[i](o+t,n,r||!1),n}},{}],42:[function(e,t,n){var r=e("closest"),i=e("event"),o=["focus","blur"];n.bind=function(e,t,n,a,s){return-1!==o.indexOf(n)&&(s=!0),i.bind(e,n,function(n){var i=n.target||n.srcElement;n.delegateTarget=r(i,t,!0,e),n.delegateTarget&&a.call(e,n)},s)},n.unbind=function(e,t,n,r){-1!==o.indexOf(t)&&(r=!0),i.unbind(e,t,n,r)}},{closest:43,event:41}],43:[function(e,t){var n=e("matches-selector");t.exports=function(e,t,r){for(var i=r?e:e.parentNode;i&&i!==document;){if(n(i,t))return i;i=i.parentNode}}},{"matches-selector":44}],44:[function(e,t){function n(e,t){if(i)return i.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;++r)if(n[r]==e)return!0;return!1}var r=Element.prototype,i=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=n},{}],45:[function(e,t){function n(e,t){if(-1==t.indexOf(".")&&-1==t.indexOf("["))return e[t];for(var n,r=t.split(/\.|\[|\]/g),i=-1,o=r.length;++i<o;)if(0==i&&(n=e),r[i]){if(void 0==n)break;n=n[r[i]]}return n}t.exports=n},{}],46:[function(e,t){"use strict";function n(e,t){if(i)return i.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1}var r=Element.prototype,i=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=n},{}],47:[function(e,t,n){(function(){var e=this,r=e._,i={},o=Array.prototype,a=Object.prototype,s=Function.prototype,u=o.push,l=o.slice,c=o.concat,h=a.toString,d=a.hasOwnProperty,p=o.forEach,f=o.map,m=o.reduce,v=o.reduceRight,g=o.filter,w=o.every,y=o.some,b=o.indexOf,_=o.lastIndexOf,x=Array.isArray,k=Object.keys,E=s.bind,C=function(e){return e instanceof C?e:this instanceof C?void(this._wrapped=e):new C(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=C),n._=C):e._=C,C.VERSION="1.6.0";var A=C.each=C.forEach=function(e,t,n){if(null==e)return e;if(p&&e.forEach===p)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(n,e[r],r,e)===i)return}else for(var a=C.keys(e),r=0,o=a.length;o>r;r++)if(t.call(n,e[a[r]],a[r],e)===i)return;return e};C.map=C.collect=function(e,t,n){var r=[];return null==e?r:f&&e.map===f?e.map(t,n):(A(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r)};var S="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),m&&e.reduce===m)return r&&(t=C.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(A(e,function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)}),!i)throw new TypeError(S);return n},C.reduceRight=C.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),v&&e.reduceRight===v)return r&&(t=C.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=C.keys(e);o=a.length}if(A(e,function(s,u,l){u=a?a[--o]:--o,i?n=t.call(r,n,e[u],u,l):(n=e[u],i=!0)}),!i)throw new TypeError(S);return n},C.find=C.detect=function(e,t,n){var r;return O(e,function(e,i,o){return t.call(n,e,i,o)?(r=e,!0):void 0}),r},C.filter=C.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(A(e,function(e,i,o){t.call(n,e,i,o)&&r.push(e)}),r)},C.reject=function(e,t,n){return C.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},C.every=C.all=function(e,t,n){t||(t=C.identity);var r=!0;return null==e?r:w&&e.every===w?e.every(t,n):(A(e,function(e,o,a){return(r=r&&t.call(n,e,o,a))?void 0:i}),!!r)};var O=C.some=C.any=function(e,t,n){t||(t=C.identity);var r=!1;return null==e?r:y&&e.some===y?e.some(t,n):(A(e,function(e,o,a){return r||(r=t.call(n,e,o,a))?i:void 0}),!!r)};C.contains=C.include=function(e,t){return null==e?!1:b&&e.indexOf===b?-1!=e.indexOf(t):O(e,function(e){return e===t})},C.invoke=function(e,t){var n=l.call(arguments,2),r=C.isFunction(t);return C.map(e,function(e){return(r?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,C.property(t))},C.where=function(e,t){return C.filter(e,C.matches(t))},C.findWhere=function(e,t){return C.find(e,C.matches(t))},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-1/0,i=-1/0;return A(e,function(e,o,a){var s=t?t.call(n,e,o,a):e;s>i&&(r=e,i=s)}),r},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=1/0,i=1/0;return A(e,function(e,o,a){var s=t?t.call(n,e,o,a):e;i>s&&(r=e,i=s)}),r},C.shuffle=function(e){var t,n=0,r=[];return A(e,function(e){t=C.random(n++),r[n-1]=r[t],r[t]=e}),r},C.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=C.values(e)),e[C.random(e.length-1)]):C.shuffle(e).slice(0,Math.max(0,t))};var j=function(e){return null==e?C.identity:C.isFunction(e)?e:C.property(e)};C.sortBy=function(e,t,n){return t=j(t),C.pluck(C.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=j(n),A(t,function(o,a){var s=n.call(r,o,a,t);e(i,s,o)}),i}};C.groupBy=T(function(e,t,n){C.has(e,t)?e[t].push(n):e[t]=[n]}),C.indexBy=T(function(e,t,n){e[t]=n}),C.countBy=T(function(e,t){C.has(e,t)?e[t]++:e[t]=1}),C.sortedIndex=function(e,t,n,r){n=j(n);for(var i=n.call(r,t),o=0,a=e.length;a>o;){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o},C.toArray=function(e){return e?C.isArray(e)?l.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:l.call(e,0,t)},C.initial=function(e,t,n){return l.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var V=function(e,t,n){return t&&C.every(e,C.isArray)?c.apply(n,e):(A(e,function(e){C.isArray(e)||C.isArguments(e)?t?u.apply(n,e):V(e,t,n):n.push(e)}),n)};C.flatten=function(e,t){return V(e,t,[])},C.without=function(e){return C.difference(e,l.call(arguments,1))},C.partition=function(e,t){var n=[],r=[];return A(e,function(e){(t(e)?n:r).push(e)}),[n,r]},C.uniq=C.unique=function(e,t,n,r){C.isFunction(t)&&(r=n,n=t,t=!1);var i=n?C.map(e,n,r):e,o=[],a=[];return A(i,function(n,r){(t?r&&a[a.length-1]===n:C.contains(a,n))||(a.push(n),o.push(e[r]))}),o},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(e){var t=l.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.contains(t,e)})})},C.difference=function(e){var t=c.apply(o,l.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=C.max(C.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=C.pluck(arguments,""+n);return t},C.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=C.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(_&&e.lastIndexOf===_)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},C.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=new Array(r);r>i;)o[i++]=e,e+=n;return o};var q=function(){};C.bind=function(e,t){var n,r;if(E&&e.bind===E)return E.apply(e,l.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return n=l.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(l.call(arguments)));q.prototype=e.prototype;var i=new q;q.prototype=null;var o=e.apply(i,n.concat(l.call(arguments)));return Object(o)===o?o:i}},C.partial=function(e){var t=l.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,o=r.length;o>i;i++)r[i]===C&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},C.bindAll=function(e){var t=l.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var r=t.apply(this,arguments);return C.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},C.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(l.call(arguments,1)))},C.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:C.now(),a=null,o=e.apply(r,i),r=i=null};return function(){var l=C.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=l,o=e.apply(r,i),r=i=null):a||n.trailing===!1||(a=setTimeout(u,c)),o}},C.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var l=C.now()-a;t>l?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),o=i=null))};return function(){o=this,i=arguments,a=C.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return C.partial(t,e)},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},C.keys=function(e){if(!C.isObject(e))return[];if(k)return k(e);var t=[];for(var n in e)C.has(e,n)&&t.push(n);return t},C.values=function(e){for(var t=C.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},C.pairs=function(e){for(var t=C.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},C.invert=function(e){for(var t={},n=C.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return A(l.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=c.apply(o,l.call(arguments,1));return A(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=c.apply(o,l.call(arguments,1));for(var r in e)C.contains(n,r)||(t[r]=e[r]);return t},C.defaults=function(e){return A(l.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var R=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=h.call(e);if(i!=h.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(C.isFunction(a)&&a instanceof a&&C.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var u=0,l=!0;if("[object Array]"==i){if(u=e.length,l=u==t.length)for(;u--&&(l=R(e[u],t[u],n,r)););}else{for(var c in e)if(C.has(e,c)&&(u++,!(l=C.has(t,c)&&R(e[c],t[c],n,r))))break;if(l){for(c in t)if(C.has(t,c)&&!u--)break;l=!u}}return n.pop(),r.pop(),l};C.isEqual=function(e,t){return R(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=x||function(e){return"[object Array]"==h.call(e)},C.isObject=function(e){return e===Object(e)},A(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return h.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==h.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return d.call(e,t)},C.noConflict=function(){return e._=r,this},C.identity=function(e){return e},C.constant=function(e){return function(){return e}},C.property=function(e){return function(t){return t[e]}},C.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},C.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=t.call(n,i);return r},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},C.now=Date.now||function(){return(new Date).getTime()};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=C.invert(M.escape);var F={escape:new RegExp("["+C.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(M.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(F[e],function(t){return M[e][t]})}}),C.result=function(e,t){if(null==e)return void 0;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){A(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),H.call(this,n.apply(C,e))}})};var B=0;C.uniqueId=function(e){var t=++B+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){var r;n=C.defaults({},n,C.templateSettings);var i=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,s){return a+=e.slice(o,s).replace(P,function(e){return"\\"+N[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return r(t,C);var u=function(e){return r.call(this,e,C)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},C.chain=function(e){return C(e).chain()};var H=function(e){return this._chain?C(e).chain():e};C.mixin(C),A(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],H.call(this,n)}}),A(["concat","join","slice"],function(e){var t=o[e];C.prototype[e]=function(){return H.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return C})}).call(this)},{}],48:[function(e,t,n){!function(){var e="undefined"==typeof window,r=!e&&window.localStorage,i={};if(e)return void(t.exports=console);var o=r.andlogKey||"debug";if(r&&r[o]&&window.console)i=window.console;else for(var a="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),s=a.length,u=function(){};s--;)i[a[s]]=u;"undefined"!=typeof n?t.exports=i:window.console=i}()},{}],49:[function(e,t,n){(function(){var e=this,r=/(mi|kilometer|km)/,i=function(e){return e instanceof i?e:this instanceof i?void 0:new i(e)};i.unit="lb","undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=i),n.Caber=i):e.Caber=i,i.parse=function(e){var t,n,i,o,a,s,u,l,c,h=-1,d=!1,p=[];if("string"!=typeof e)throw new TypeError("Caber can only parse strings, tried parsing "+typeof e);for(o=e.split(/[\s,\n]+/);o.length>0;)if(a=o.shift(),d||a.replace(/[^\w]+/g,"").replace(/[0-9Xx]+/g,"").length>0)a.match(/^\(/)&&h>-1?(u=!0,a.match(/\)$/)?p[h].comment=a.slice(1,-1):(d=!0,p[h].comment=a.slice(1))):a.match(/\)$/)&&d?(d=!1,p[h].comment=p[h].comment+" "+a.slice(0,-1)):h>-1&&d?p[h].comment=p[h].comment+" "+a:s&&!u?p[h].name=p[h].name+" "+a:(h+=1,s=a,p[h]={name:s,sets:[]},u=!1);else if(s){for(o.length>1&&"x"===o[0].toLowerCase()?a=a+o.shift()+o.shift():o.length>0&&"x"===a.slice(-1).toLowerCase()?a+=o.shift():o.length>0&&"x"===o[0].slice(0,1).toLowerCase()&&(a+=o.shift()),u=!0,c=!1,a.indexOf(":")>-1?(n=1,l=[a]):""===a?n=0:("*"===a.slice(-1)&&(c=!0,a=a.slice(0,-1)),l=a.toLowerCase().replace(/[^0-9x:.]+/g,"").split("x"),n=l[2]||1),t=0;n>t;t++)i={},1===l.length?l[0].indexOf(":")>-1?(i.time=l[0],o.length>0&&o[0].search(/^.?[0-9]/)>-1&&o[0].search(r)>-1?(i.distance=Number(o[0].match(/^([0-9.]+)/)[0]),i.unit=o[0].indexOf("mi")>-1?"miles":"kilometers"):o.length>1&&o[1].search(r)>-1&&(i.distance=Number(o.shift()),i.unit=o.shift(),"*"===i.unit.slice(-1)&&(c=!0,i.unit=i.unit.slice(0,-1)),0===i.unit.indexOf("kilometer")||"km"===i.unit?i.unit="kilometers":0===i.unit.indexOf("mi")&&(i.unit="miles"))):i.reps=Number(l[0]):(i.unit="lb",i.weight=Number(l[0]),i.reps=Number(l[1]),0===i.weight&&delete i.weight),p[h].sets.push(i);c&&(p[h].sets[p[h].sets.length-1].pr=!0)}return p},i.fitocracy=function(e){var t,n,r,i,o,a=-1,s=[];if("string"!=typeof e)throw new TypeError("Caber can only parse strings, tried parsing "+typeof e);for(t=e.split(/\n/);t.length>0;)n=t.shift(),n.match(/tracked ?[\w ]\+ ?for ?[0-9]+ ?pts/)||(n.match(/[0-9]+$/)||0===t.length&&-1===["Comment","Prop","Share"].indexOf(n)?(i={},n.match(/\(PR\)/)&&(i.pr=!0),n.match(/reps/)?(o=n.match(/([0-9.]+) (lb|kg)/),o&&(i.weight=Number(o[1]),i.unit=o[2]),o=n.match(/([0-9]+) reps/),o&&(i.reps=Number(o[1])),n.match(/assisted/)&&(i.weight=-1*i.weight),0===i.weight&&delete i.weight,s[a].sets.push(i)):n.indexOf(":")>-1?(o=n.match(/([0-9:]+) \| ([0-9]+) (mi|km)/),o&&(i.unit=o[3],i.time=o[1],i.distance=Number(o[2]),s[a].sets.push(i))):s[a]&&(s[a].comment=n)):-1===["Comment","Prop","Share"].indexOf(n)&&(n.length>1&&t[0].match(/[0-9]/)?(a+=1,r=n,s[a]={name:r,sets:[]}):s[a].comment=n));return s}}).call(this)},{}],50:[function(e,t){!function(e,n){"undefined"!=typeof t?t.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[e]=n()}("domready",function(){var e,t=[],n=document,r=n.documentElement.doScroll,i="DOMContentLoaded",o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener(i,e=function(){for(n.removeEventListener(i,e),o=1;e=t.shift();)e()}),function(e){o?e():t.push(e)}})},{}],51:[function(){},{}],52:[function(e,t){function n(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}t.exports=n},{}],53:[function(e,t){var n=t.exports={mround:function(e,t){return t*Math.round(e/t)},warmup_1:function(e){return String(n.mround(.4*e,5))+" lb"},warmup_2:function(e){return String(n.mround(.5*e,5))+" lb"},warmup_3:function(e){return String(n.mround(.6*e,5))+" lb"},wave1_1:function(e){return String(n.mround(.65*e,5))+" lb"},wave1_2:function(e){return String(n.mround(.75*e,5))+" lb"},wave1_3:function(e){return String(n.mround(.85*e,5))+" lb"},wave2_1:function(e){return String(n.mround(.7*e,5))+" lb"},wave2_2:function(e){return String(n.mround(.8*e,5))+" lb"},wave2_3:function(e){return String(n.mround(.9*e,5))+" lb"},wave3_1:function(e){return String(n.mround(.75*e,5))+" lb"},wave3_2:function(e){return String(n.mround(.85*e,5))+" lb"},wave3_3:function(e){return String(n.mround(.95*e,5))+" lb"}}},{}],54:[function(e,t){var n=e("ampersand-collection"),r=e("models/activity");t.exports=n.extend({model:r})},{"ampersand-collection":2,"models/activity":55}],55:[function(e,t){var n=e("ampersand-state"),r=e("models/sets");t.exports=n.extend({props:{name:"string",comment:"string"},idAttribute:"name",collections:{sets:r},derived:{hasComment:{fn:function(){return this.comment?!0:!1}}}})},{"ampersand-state":24,"models/sets":58}],56:[function(e,t){var n=e("ampersand-state"),r=e("lib/wendlerCalc");t.exports=n.extend({props:{name:"string",weight:"number",reps:"number",extra:"number"},derived:{ready:{deps:["weight","reps"],fn:function(){return this.weight>0&&this.reps>0}},calculated:{deps:["weight","reps"],fn:function(){return this.weight>0&&this.reps>0?this.weight*this.reps/30+this.weight:void 0}},training:{deps:["calculated","extra"],fn:function(){var e=this.calculated;return void 0!==e&&(e=.9*e,this.extra>0&&(e+=this.extra)),e}},warmup_1:{deps:["training"],fn:function(){return this.training>0?r.warmup_1(this.training):void 0}},warmup_2:{deps:["training"],fn:function(){return this.training>0?r.warmup_2(this.training):void 0}},warmup_3:{deps:["training"],fn:function(){return this.training>0?r.warmup_3(this.training):void 0}},wave1_1:{deps:["training"],fn:function(){return this.training>0?r.wave1_1(this.training):void 0}},wave1_2:{deps:["training"],fn:function(){return this.training>0?r.wave1_2(this.training):void 0}},wave1_3:{deps:["training"],fn:function(){return this.training>0?r.wave1_3(this.training):void 0}},wave2_1:{deps:["training"],fn:function(){return this.training>0?r.wave2_1(this.training):void 0}},wave2_2:{deps:["training"],fn:function(){return this.training>0?r.wave2_2(this.training):void 0}},wave2_3:{deps:["training"],fn:function(){return this.training>0?r.wave2_3(this.training):void 0}},wave3_1:{deps:["training"],fn:function(){return this.training>0?r.wave3_1(this.training):void 0}},wave3_2:{deps:["training"],fn:function(){return this.training>0?r.wave3_2(this.training):void 0}},wave3_3:{deps:["training"],fn:function(){return this.training>0?r.wave3_3(this.training):void 0}}}})},{"ampersand-state":24,"lib/wendlerCalc":53}],57:[function(e,t){var n=e("ampersand-state");t.exports=n.extend({props:{weight:"number",reps:"number",time:"string",distance:"number",unit:"string",pr:["boolean",!0,!1]},derived:{formattedFull:{deps:["distance","weight","reps","unit"],fn:function(){var e=[];return this.time&&e.push(this.time),this.time&&this.distance&&e.push("|"),this.distance&&(e.push(this.distance),e.push(this.unit)),this.weight&&(e.push(this.weight),e.push(this.unit)),this.weight&&this.reps&&e.push("x"),this.reps&&(e.push(this.reps),e.push("reps")),e.join(" ")}},formattedShort:{deps:["distance","weight","reps","unit"],fn:function(){var e=[];return this.time&&e.push(this.time),this.time&&this.distance&&e.push("|"),this.distance&&(e.push(this.distance),e.push(" "),e.push("miles"===this.unit?"mi":"km")),this.weight&&e.push(this.weight),this.weight&&this.reps&&e.push("x"),this.reps&&e.push(this.reps),e.join("")}},nonpr:{deps:["pr"],fn:function(){return!this.pr}}}})},{"ampersand-state":24}],58:[function(e,t){var n=e("ampersand-collection");t.exports=n.extend({model:e("models/set")})},{"ampersand-collection":2,"models/set":57}],59:[function(e,t){var n=e("ampersand-state"),r=e("models/lift531");t.exports=n.extend({initialize:function(){if(this.ohp.name="OHP",this.squat.name="Squat",this.bench.name="Bench",this.deadlift.name="Deadlift",localStorage&&localStorage.wendler531)try{this.set(JSON.parse(localStorage.wendler531))}catch(e){localStorage.wendler531=void 0}},save:function(){localStorage&&(localStorage.wendler531=JSON.stringify(this.toJSON()))},children:{ohp:r,squat:r,bench:r,deadlift:r}})},{"ampersand-state":24,"models/lift531":56}],60:[function(e,t){var n=e("ampersand-view"),r=e("templates");t.exports=n.extend({template:r.pages.about,autoRender:!0})},{"ampersand-view":31,templates:65}],61:[function(e,t){var n=e("ampersand-view"),r=e("caber"),i=e("templates"),o=e("lib/debounce"),a=e("views/markdown"),s=e("views/markdownFull"),u=e("views/bbcode"),l=e("views/bbcodeFull"),c=e("views/markdownCredits"),h=e("views/bbcodeCredits");t.exports=n.extend({template:i.pages.fitocracy,initialize:function(){this.throttledParse=o(this.parseRaw,1e3)},events:{"input [data-hook=raw]":"rawChanged","change [data-hook=format]":"changeFormat"},rawChanged:function(e){e.preventDefault(),this.throttledParse()},parseRaw:function(){var e=this.queryByHook("raw").value,t=r.fitocracy(e);app.activities.reset(t,{parse:!0})},changeFormat:function(e){e.preventDefault(),this.formattedView&&(this.formattedView.remove(),this.creditsView.remove()),"md"===e.target.value?(this.formattedView=this.renderCollection(app.activities,a,this.queryByHook("formatted")),this.creditsView=this.renderSubview(new c,this.queryByHook("credits"))):"mdFull"===e.target.value?(this.formattedView=this.renderCollection(app.activities,s,this.queryByHook("formatted")),this.creditsView=this.renderSubview(new c,this.queryByHook("credits"))):"bb"===e.target.value?(this.formattedView=this.renderCollection(app.activities,u,this.queryByHook("formatted")),this.creditsView=this.renderSubview(new h,this.queryByHook("credits"))):(this.formattedView=this.renderCollection(app.activities,l,this.queryByHook("formatted")),this.creditsView=this.renderSubview(new h,this.queryByHook("credits")))}})},{"ampersand-view":31,caber:49,"lib/debounce":52,templates:65,"views/bbcode":66,"views/bbcodeCredits":67,"views/bbcodeFull":68,"views/markdown":72,"views/markdownCredits":73,"views/markdownFull":74}],62:[function(e,t){var n=e("ampersand-view"),r=e("caber"),i=e("templates"),o=e("lib/debounce"),a=e("views/markdown"),s=e("views/markdownFull"),u=e("views/bbcode"),l=e("views/bbcodeFull"),c=e("views/markdownCredits"),h=e("views/bbcodeCredits");t.exports=n.extend({template:i.pages.home,initialize:function(){this.throttledParse=o(this.parseRaw,1e3)},events:{"input [data-hook=raw]":"rawChanged","change [data-hook=format]":"changeFormat"},rawChanged:function(e){e.preventDefault(),this.throttledParse(e)},parseRaw:function(e){var t=e.target.value,n=r.parse(t);app.activities.reset(n,{parse:!0})},changeFormat:function(e){e.preventDefault(),this.formattedView&&(this.formattedView.remove(),this.creditsView.remove()),"md"===e.target.value?(this.formattedView=this.renderCollection(app.activities,a,this.queryByHook("formatted")),this.creditsView=this.renderSubview(new c,this.queryByHook("credits"))):"mdFull"===e.target.value?(this.formattedView=this.renderCollection(app.activities,s,this.queryByHook("formatted")),this.creditsView=this.renderSubview(new c,this.queryByHook("credits"))):"bb"===e.target.value?(this.formattedView=this.renderCollection(app.activities,u,this.queryByHook("formatted")),this.creditsView=this.renderSubview(new h,this.queryByHook("credits"))):(this.formattedView=this.renderCollection(app.activities,l,this.queryByHook("formatted")),this.creditsView=this.renderSubview(new h,this.queryByHook("credits")))}})},{"ampersand-view":31,caber:49,"lib/debounce":52,templates:65,"views/bbcode":66,"views/bbcodeCredits":67,"views/bbcodeFull":68,"views/markdown":72,"views/markdownCredits":73,"views/markdownFull":74}],63:[function(e,t){var n=e("ampersand-view"),r=e("templates"),i=e("views/lift531"),o=e("lib/debounce"),a=function(e){return""!==e?Number(e):void 0};t.exports=n.extend({template:r.pages.wendler531,initialize:function(){this.ohpView=this.registerSubview(new i({model:this.model.ohp})),this.squatView=this.registerSubview(new i({model:this.model.squat})),this.benchView=this.registerSubview(new i({model:this.model.bench})),this.deadliftView=this.registerSubview(new i({model:this.model.deadlift})),this.saveModel=o(this.model.save.bind(this.model),250)},render:function(){this.renderWithTemplate(),this.listenToAndRun(this.model.ohp,"change:ready",this.renderOHP),this.listenToAndRun(this.model.squat,"change:ready",this.renderSquat),this.listenToAndRun(this.model.bench,"change:ready",this.renderBench),this.listenToAndRun(this.model.deadlift,"change:ready",this.renderDeadlift)},events:{"input [data-hook=ohp-weight]":"setOHPWeight","input [data-hook=ohp-reps]":"setOHPReps","input [data-hook=ohp-extra]":"setOHPExtra","input [data-hook=squat-weight]":"setSquatWeight","input [data-hook=squat-reps]":"setSquatReps","input [data-hook=squat-extra]":"setSquatExtra","input [data-hook=bench-weight]":"setBenchWeight","input [data-hook=bench-reps]":"setBenchReps","input [data-hook=bench-extra]":"setBenchExtra","input [data-hook=deadlift-weight]":"setDeadliftWeight","input [data-hook=deadlift-reps]":"setDeadliftReps","input [data-hook=deadlift-extra]":"setDeadliftExtra"},setOHPWeight:function(e){e.preventDefault(),this.model.ohp.weight=a(e.target.value),this.saveModel()},setOHPReps:function(e){e.preventDefault(),this.model.ohp.reps=a(e.target.value),this.saveModel()},setOHPExtra:function(e){e.preventDefault(),this.model.ohp.extra=a(e.target.value),this.saveModel()},renderOHP:function(){this.model.ohp.ready?this.queryByHook("results").appendChild(this.ohpView.el):this.ohpView.el.parentNode&&this.ohpView.el.parentNode.removeChild(this.ohpView.el)},setSquatWeight:function(e){e.preventDefault(),this.model.squat.weight=a(e.target.value),this.saveModel()},setSquatReps:function(e){e.preventDefault(),this.model.squat.reps=a(e.target.value),this.saveModel()},setSquatExtra:function(e){e.preventDefault(),this.model.squat.extra=a(e.target.value),this.saveModel()},renderSquat:function(){this.model.squat.ready?this.queryByHook("results").appendChild(this.squatView.el):this.squatView.el.parentNode&&this.squatView.el.parentNode.removeChild(this.squatView.el)},setBenchWeight:function(e){e.preventDefault(),this.model.bench.weight=a(e.target.value),this.saveModel()},setBenchReps:function(e){e.preventDefault(),this.model.bench.reps=a(e.target.value),this.saveModel()},setBenchExtra:function(e){e.preventDefault(),this.model.bench.extra=a(e.target.value),this.saveModel()},renderBench:function(){this.model.bench.ready?this.queryByHook("results").appendChild(this.benchView.el):this.benchView.el.parentNode&&this.benchView.el.parentNode.removeChild(this.benchView.el)},setDeadliftWeight:function(e){e.preventDefault(),this.model.deadlift.weight=a(e.target.value),this.saveModel()},setDeadliftReps:function(e){e.preventDefault(),this.model.deadlift.reps=a(e.target.value),this.saveModel()
},setDeadliftExtra:function(e){e.preventDefault(),this.model.deadlift.extra=a(e.target.value),this.saveModel()},renderDeadlift:function(){this.model.deadlift.ready?this.queryByHook("results").appendChild(this.deadliftView.el):this.deadliftView.el.parentNode&&this.deadliftView.el.parentNode.removeChild(this.deadliftView.el)}})},{"ampersand-view":31,"lib/debounce":52,templates:65,"views/lift531":70}],64:[function(e,t){var n=e("ampersand-router"),r=e("pages/home"),i=e("pages/fitocracy"),o=e("pages/about"),a=e("pages/wendler531"),s=e("models/wendler531");t.exports=n.extend({routes:{"":"home",fitocracy:"fitocracy",531:"calc531",about:"about"},home:function(){app.activities.reset(),this.trigger("page",new r)},fitocracy:function(){app.activities.reset(),this.trigger("page",new i)},about:function(){this.trigger("page",new o)},calc531:function(){this.trigger("page",new a({model:new s}))}})},{"ampersand-router":12,"models/wendler531":59,"pages/about":60,"pages/fitocracy":61,"pages/home":62,"pages/wendler531":63}],65:[function(e,t,n){!function(e,r){if("function"==typeof define&&define.amd)define([],r);else if("object"==typeof n)t.exports=r();else{if("undefined"==typeof e||e!==Object(e))throw new Error("templatizer: window does not exist or is not an object");e.templatizer=r()}}(this,function(){var t=function(){function t(e){return null!=e&&""!==e}function n(e){return(Array.isArray(e)?e.map(n):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(t).join(" ")}var r={};return r.merge=function i(e,n){if(1===arguments.length){for(var r=e[0],o=1;o<e.length;o++)r=i(r,e[o]);return r}var a=e["class"],s=n["class"];(a||s)&&(a=a||[],s=s||[],Array.isArray(a)||(a=[a]),Array.isArray(s)||(s=[s]),e["class"]=a.concat(s).filter(t));for(var u in n)"class"!=u&&(e[u]=n[u]);return e},r.joinClasses=n,r.cls=function(e,t){for(var i=[],o=0;o<e.length;o++)i.push(t&&t[o]?r.escape(n([e[o]])):n(e[o]));var a=n(i);return a.length?' class="'+a+'"':""},r.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},r.attr=function(e,t,n,i){return"style"===e&&(t=r.style(t)),"boolean"==typeof t||null==t?t?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof t?(-1!==JSON.stringify(t).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),t&&"function"==typeof t.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'"):n?(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+r.escape(t)+'"'):(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t+'"')},r.attrs=function(e,t){var i=[],o=Object.keys(e);if(o.length)for(var a=0;a<o.length;++a){var s=o[a],u=e[s];"class"==s?(u=n(u))&&i.push(" "+s+'="'+u+'"'):i.push(r.attr(s,u,!1,t))}return i.join("")},r.escape=function(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},r.rethrow=function o(t,n,r,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||i))throw t.message+=" on line "+r,t;try{i=i||e("fs").readFileSync(n,"utf8")}catch(a){o(t,null,r)}var s=3,u=i.split("\n"),l=Math.max(r-s,0),c=Math.min(u.length,r+s),s=u.slice(l,c).map(function(e,t){var n=t+l+1;return(n==r?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=n,t.message=(n||"Jade")+":"+r+"\n"+s+"\n\n"+t.message,t},r}(),n={};return n.includes={},n.pages={},n.body=function(){return'<body><nav class="navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><a href="/" class="navbar-brand">Workout Logger</a></div><ul role="nav-items" class="nav navbar-nav"><li><a href="/">Log</a></li><li><a href="/fitocracy">Fitocracy</a></li><li><a href="/531">531 Calculator</a></li><li><a href="/about">About</a></li></ul></div></nav><div class="container"><main data-hook="page-container"></main></div></body>'},n.includes.bbcode=function(){return'<div class="section"><div class="row"><div class="col-md-12"><br/><span>[b]</span><span data-hook="name"></span><span>[/b]</span></div></div><div class="row"><div class="col-md-12"><span>[list]</span><span data-hook="sets"></span><span>[/list]</span></div></div><div class="row"><div class="col-md-12"><span data-hook="commentLabel">[i]Comments[/i]&nbsp;</span><span data-hook="comment"></span></div></div></div>'},n.includes.bbcodeCredits=function(){return'<div class="section"><br/>[sub][url=http://lift.zone]lift.zone[/url][/sub]</div>'},n.includes.bbcodeRep=function(){return'<div class="rep"><span>[*]</span><span data-hook="pr">[b]</span><span data-hook="rep"></span><span data-hook="pr">[/b]</span></div>'},n.includes.bbcodeRepGroup=function(){return'<div><span>[*]</span><span data-hook="repGroup"></span></div>'},n.includes.bbcodeRepItem=function(){return'<span class="rep"><span data-hook="pr">[b]</span><span data-hook="rep"></span><span class="repsep">, </span><span data-hook="pr">[/b]</span></span>'},n.includes.lift531=function(){return'<div class="ohp"><table class="table"><tr><th data-hook="name"></th><th>Weight</th><th>Reps</th></tr><tr><td>Warmup</td><td data-hook="warmup_1"></td><td>5</td></tr><tr><td></td><td data-hook="warmup_2"></td><td>5</td></tr><tr><td></td><td data-hook="warmup_3"></td><td>3</td></tr><tr><td>Wave 1</td><td data-hook="wave1_1"></td><td>5</td></tr><tr><td></td><td data-hook="wave1_2"></td><td>5</td></tr><tr><td></td><td data-hook="wave1_3"></td><td>5+</td></tr><tr><td>Wave 2</td><td data-hook="wave2_1"></td><td>3</td></tr><tr><td></td><td data-hook="wave2_2"></td><td>3</td></tr><tr><td></td><td data-hook="wave2_3"></td><td>3+</td></tr><tr><td>Wave 3</td><td data-hook="wave3_1"></td><td>5</td></tr><tr><td></td><td data-hook="wave3_2"></td><td>3</td></tr><tr><td></td><td data-hook="wave3_3"></td><td>1+</td></tr></table></div>'},n.includes.markdown=function(){return'<div class="section"><div class="row"><div class="col-md-12"><br/>###<span data-hook="name"></span></div></div><div class="row"><div data-hook="sets" class="col-md-12"></div></div><div class="row"><div class="col-md-12"><span data-hook="commentLabel">*Comments:*&nbsp;</span><span data-hook="comment"></span></div></div></div>'},n.includes.markdownCredits=function(){return'<div class="section"><br/>&lt;sub&gt;[lift.zone](http://lift.zone)&lt;/sub&gt;</div>'},n.includes.markdownRep=function(){return'<div>&gt;<span data-hook="pr">**</span><span data-hook="rep"></span><span data-hook="pr">**</span></div>'},n.includes.markdownRepGroup=function(){return'<div>&gt;<span data-hook="repGroup"></span></div>'},n.includes.markdownRepItem=function(){return'<span class="rep"><span data-hook="pr">**</span><span data-hook="rep"></span><span class="repsep">, </span><span data-hook="pr">**</span></span>'},n.pages.about=function(){return'<section><h1>What the heck even is this?</h1><p>I like to log my workouts in more than one place, and they all take different formats. One takes bbcode, the next markdown.  Typing them up even once in any of those formats is a chore, let alone more than one.</p><p>This little utility site is an attempt to solve that problem: I can type my workout in what feels to my like natural typing, and it easily converts to the formats I need.</p><p>There is also a function to translate the workouts as they print out on Fitocracy, since that\'s a common thing people seem to want.</p><p>If you find something that\'s not working, or have a different format you would like to see hit me up on <a href="https://github.com/wraithgar/lift.zone">github</a></p><p>I also added a 531 calculator that auto-saves cause I wanted that too.</p><p>Feedback is welcome, you can also email me <a href="mailto:gar+lifts@danger.computer">here</a></p><p>Powered with love from:</p><p class="text-center"><a href="http://danger.computer"><img src="http://danger.computer/fireball/danger-s.png"/><br/>The Danger Computer</a></p></section>'},n.pages.fitocracy=function(){return'<section class="page home"><row><div class="col-sm-6"><form role="form"><div class="form-group"><label class="radio">Format</label><input type="radio" name="format" value="md" data-hook="format"/> Markdown <input type="radio" name="format" value="mdFull" data-hook="format"/> Markdown Long<br/><input type="radio" name="format" value="bb" data-hook="format"/> BBCode <input type="radio" name="format" value="bbFull" data-hook="format"/> BBCode Long</div><div class="form-group"><label>Workout</label><textarea data-hook="raw" rows="50" placeholder="Paste fitocracy workout here" title="fitocracy workout" id="rawInput" class="form-control"></textarea></div></form></div><div class="col-sm-6"><h1>Workout Log from Fitocracy</h1><div data-hook="formatted" class="workout"></div><div data-hook="credits" class="credits"></div><div class="instructions"><ol><li>Copy your workout on fitocracy</li><li>Paste your workout in the box</li><li>Select an output format</li><li>Copy and paste it wherever</li><li>Have a great day</li></ol></div></div></row></section>'},n.pages.home=function(){return'<section class="page home"><row><div class="col-sm-6"><form role="form"><div class="form-group"><label class="radio">Format</label><input type="radio" name="format" value="md" data-hook="format"/> Markdown <input type="radio" name="format" value="mdFull" data-hook="format"/> Markdown Long<br/><input type="radio" name="format" value="bb" data-hook="format"/> BBCode <input type="radio" name="format" value="bbFull" data-hook="format"/> BBCode Long</div><div class="form-group"><label>Workout</label><textarea data-hook="raw" rows="50" placeholder="Squat 255x5x4 315x1*" title="workout" id="rawInput" class="form-control"></textarea></div></form></div><div class="col-sm-6"><h1>Workout Log</h1><div data-hook="formatted" class="workout"></div><div data-hook="credits" class="credits"></div><div class="instructions"><ol><li>Type your workout in the box</li><li>Select an output format</li><li>Copy and paste it wherever</li><li>Have a great day</li></ol></div></div></row></section>'},n.pages.wendler531=function(e){var n=[];return n.push('<section class="page"><div class="col-sm-8"><h1>531 Calculator</h1><div data-hook="results" class="workout"></div><div class="instructions"><ol><li>Type your current maxes into the inputs</li><li>See what your 531 workouts calculate to</li><li>Go into the gym and lift things</li><li>Later, you can add arbitrary weights to the results for subsequent cycles</li><li>Don\'t forget to eat</li></ol></div></div><div class="col-sm-4"><form role="form" class="form-horizontal"><div class="row"><div class="form-group form-group-sm"><label class="col-sm-3">OHP</label><div class="col-sm-3"><input type="number" step="5" data-hook="ohp-weight" placeholder="weight" title="weight"'+t.attr("value",e.model.ohp.weight,!0,!1)+' class="form-control"/></div><div class="col-sm-3"><input type="number" data-hook="ohp-reps" placeholder="reps" title="reps"'+t.attr("value",e.model.ohp.reps,!0,!1)+' class="form-control"/></div><div class="col-sm-3"><input type="number" step="5" data-hook="ohp-extra" placeholder="+" title="extra"'+t.attr("value",e.model.ohp.extra,!0,!1)+' class="form-control"/></div></div><div class="form-group form-group-sm"><label class="col-sm-3">Squat</label><div class="col-sm-3"><input type="number" step="5" data-hook="squat-weight" placeholder="weight" title="weight"'+t.attr("value",e.model.squat.weight,!0,!1)+' class="form-control"/></div><div class="col-sm-3"><input type="number" data-hook="squat-reps" placeholder="reps" title="reps"'+t.attr("value",e.model.squat.reps,!0,!1)+' class="form-control"/></div><div class="col-sm-3"><input type="number" step="5" data-hook="squat-extra" placeholder="+" title="extra"'+t.attr("value",e.model.squat.extra,!0,!1)+' class="form-control"/></div></div><div class="form-group form-group-sm"><label class="col-sm-3">Bench</label><div class="col-sm-3"><input type="number" step="5" data-hook="bench-weight" placeholder="weight" title="weight"'+t.attr("value",e.model.bench.weight,!0,!1)+' class="form-control"/></div><div class="col-sm-3"><input type="number" data-hook="bench-reps" placeholder="reps" title="reps"'+t.attr("value",e.model.bench.reps,!0,!1)+' class="form-control"/></div><div class="col-sm-3"><input type="number" step="5" data-hook="bench-extra" placeholder="+" title="extra"'+t.attr("value",e.model.bench.extra,!0,!1)+' class="form-control"/></div></div><div class="form-group form-group-sm"><label class="col-sm-3">Deadlift</label><div class="col-sm-3"><input type="number" step="5" data-hook="deadlift-weight" placeholder="weight" title="weight"'+t.attr("value",e.model.deadlift.weight,!0,!1)+' class="form-control"/></div><div class="col-sm-3"><input type="number" data-hook="deadlift-reps" placeholder="reps" title="reps"'+t.attr("value",e.model.deadlift.reps,!0,!1)+' class="form-control"/></div><div class="col-sm-3"><input type="number" step="5" data-hook="deadlift-extra" placeholder="+" title="extra"'+t.attr("value",e.model.deadlift.extra,!0,!1)+' class="form-control"/></div></div></div></form></div></section>'),n.join("")},n})},{fs:51}],66:[function(e,t){var n=e("ampersand-view"),r=e("ampersand-grouped-collection-view"),i=e("templates"),o=n.extend({template:i.includes.bbcodeRepItem,bindings:{"model.formattedShort":{type:"text",hook:"rep"},"model.nonpr":{type:"booleanClass",name:"nonpr",hook:"pr"}}}),a=n.extend({template:i.includes.bbcodeRepGroup,render:function(){this.renderWithTemplate(),this.cacheElements({groupEl:"[data-hook=repGroup]"})}});t.exports=n.extend({template:i.includes.bbcode,bindings:{"model.name":{type:"text",hook:"name"},"model.comment":{type:"text",hook:"comment"},"model.hasComment":{type:"toggle",hook:"commentLabel"}},render:function(){this.renderWithTemplate();var e=new r({collection:this.model.sets,itemView:o,groupView:a,groupsWith:function(e){return e.collection.length<6?!0:e.collection.indexOf(e)%3!==0},prepareGroup:function(){}});this.renderSubview(e,this.queryByHook("sets"))}})},{"ampersand-grouped-collection-view":9,"ampersand-view":31,templates:65}],67:[function(e,t){var n=e("ampersand-view"),r=e("templates");t.exports=n.extend({template:r.includes.bbcodeCredits,autoRender:!0})},{"ampersand-view":31,templates:65}],68:[function(e,t){var n=e("ampersand-view"),r=e("views/bbcodeRep"),i=e("templates");t.exports=n.extend({template:i.includes.bbcode,bindings:{"model.name":{type:"text",hook:"name"},"model.comment":{type:"text",hook:"comment"},"model.hasComment":{type:"toggle",hook:"commentLabel"}},render:function(){this.renderWithTemplate(),this.renderCollection(this.model.sets,r,this.queryByHook("sets"))}})},{"ampersand-view":31,templates:65,"views/bbcodeRep":69}],69:[function(e,t){var n=e("ampersand-view"),r=e("templates");t.exports=n.extend({template:r.includes.bbcodeRep,bindings:{"model.formattedFull":{type:"text",hook:"rep"},"model.nonpr":{type:"booleanClass",name:"nonpr",hook:"pr"}}})},{"ampersand-view":31,templates:65}],70:[function(e,t){var n=e("ampersand-view"),r=e("templates");t.exports=n.extend({template:r.includes.lift531,autoRender:!0,bindings:{"model.name":{type:"text",hook:"name"},"model.warmup_1":{type:"text",hook:"warmup_1"},"model.warmup_2":{type:"text",hook:"warmup_2"},"model.warmup_3":{type:"text",hook:"warmup_3"},"model.wave1_1":{type:"text",hook:"wave1_1"},"model.wave1_2":{type:"text",hook:"wave1_2"},"model.wave1_3":{type:"text",hook:"wave1_3"},"model.wave2_1":{type:"text",hook:"wave2_1"},"model.wave2_2":{type:"text",hook:"wave2_2"},"model.wave2_3":{type:"text",hook:"wave2_3"},"model.wave3_1":{type:"text",hook:"wave3_1"},"model.wave3_2":{type:"text",hook:"wave3_2"},"model.wave3_3":{type:"text",hook:"wave3_3"}}})},{"ampersand-view":31,templates:65}],71:[function(e,t){var n=e("ampersand-view"),r=e("ampersand-view-switcher"),i=e("ampersand-dom"),o=e("templates");t.exports=n.extend({template:o.body,autoRender:!0,events:{"click a[href]":"handleLinkClick"},initialize:function(){this.listenTo(app.router,"page",this.handlePage)},render:function(){this.renderWithTemplate(),this.pages=new r(this.queryByHook("page-container"))},handlePage:function(e){app.currentPage=e,this.pages.set(e),this.setActiveNavItem()},handleLinkClick:function(e){var t=e.target,n=t.host===location.host;!n||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),app.router.history.navigate(t.pathname,{trigger:!0}))},setActiveNavItem:function(){var e=window.location.pathname;this.queryAll("[role=nav-items] a").forEach(function(t){t.pathname===e?i.addClass(t.parentNode,"active"):i.removeClass(t.parentNode,"active")})}})},{"ampersand-dom":8,"ampersand-view":31,"ampersand-view-switcher":30,templates:65}],72:[function(e,t){var n=e("ampersand-view"),r=e("ampersand-grouped-collection-view"),i=e("templates"),o=n.extend({template:i.includes.markdownRepItem,bindings:{"model.formattedShort":{type:"text",hook:"rep"},"model.nonpr":{type:"booleanClass",name:"nonpr",hook:"pr"}}}),a=n.extend({template:i.includes.markdownRepGroup,render:function(){this.renderWithTemplate(),this.cacheElements({groupEl:"[data-hook=repGroup]"})}});t.exports=n.extend({template:i.includes.markdown,bindings:{"model.name":{type:"text",hook:"name"},"model.comment":{type:"text",hook:"comment"},"model.hasComment":{type:"toggle",hook:"commentLabel"}},render:function(){this.renderWithTemplate();var e=new r({collection:this.model.sets,itemView:o,groupView:a,groupsWith:function(e){return e.collection.length<6?!0:e.collection.indexOf(e)%3!==0},prepareGroup:function(){}});this.renderSubview(e,this.queryByHook("sets"))}})},{"ampersand-grouped-collection-view":9,"ampersand-view":31,templates:65}],73:[function(e,t){var n=e("ampersand-view"),r=e("templates");t.exports=n.extend({template:r.includes.markdownCredits,autoRender:!0})},{"ampersand-view":31,templates:65}],74:[function(e,t){var n=e("ampersand-view"),r=e("views/markdownRep"),i=e("templates");t.exports=n.extend({template:i.includes.markdown,bindings:{"model.name":{type:"text",hook:"name"},"model.comment":{type:"text",hook:"comment"},"model.hasComment":{type:"toggle",hook:"commentLabel"}},render:function(){this.renderWithTemplate(),this.renderCollection(this.model.sets,r,this.queryByHook("sets"))}})},{"ampersand-view":31,templates:65,"views/markdownRep":75}],75:[function(e,t){var n=e("ampersand-view"),r=e("templates");t.exports=n.extend({template:r.includes.markdownRep,bindings:{"model.formattedFull":{type:"text",hook:"rep"},"model.nonpr":{type:"booleanClass",name:"nonpr",hook:"pr"}}})},{"ampersand-view":31,templates:65}]},{},[1]);